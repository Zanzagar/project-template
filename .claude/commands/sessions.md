# Session History Viewer

View recent session summaries and checkpoints.

## Instructions

List and display session files from `.claude/sessions/`.

### 1. Find Sessions

```bash
# List all session files, most recent first
ls -lt .claude/sessions/ 2>/dev/null | head -20
```

### 2. Categorize

Group files into:
- **Session summaries**: `session-summary-*.md` (auto-generated by session-end.sh)
- **Checkpoints**: `checkpoint-*.md` (manual via /checkpoint)
- **Pre-compact state**: `pre-compact-state.md` (auto-generated)

### 3. Display Recent

Show the contents of the most recent session summary (if less than 7 days old):

```bash
# Find most recent session summary
LATEST=$(ls -t .claude/sessions/session-summary-*.md 2>/dev/null | head -1)
if [ -n "$LATEST" ]; then
    cat "$LATEST"
fi
```

### 4. Show Age

For each file, show how old it is:
- Less than 24h: "recent"
- 1-7 days: "this week"
- Over 7 days: "stale"

## Output Format

```
╔════════════════════════════════════════════════╗
║              SESSION HISTORY                    ║
╠════════════════════════════════════════════════╣
║ Type        │ Date       │ Age     │ File      ║
╠─────────────┼────────────┼─────────┼───────────╣
║ Summary     │ 2026-02-13 │ recent  │ session-… ║
║ Checkpoint  │ 2026-02-12 │ 1 day   │ checkpoint║
║ Pre-compact │ 2026-02-12 │ 1 day   │ pre-comp… ║
╚════════════════════════════════════════════════╝

=== Most Recent Session ===
[Contents of latest session summary]
```

## Options

- `/sessions` — Show all recent sessions
- `/sessions last` — Show only the most recent session
- `/sessions clean` — Remove sessions older than 7 days

## Cleanup

If there are more than 20 session files, suggest:
> "You have [N] session files. Run `/sessions clean` to remove stale ones (>7 days)."
