{
  "master": {
    "tasks": [
      {
        "id": "16",
        "title": "Create AgentShield Security Documentation",
        "description": "Create docs/SECURITY.md documenting AgentShield scanning capabilities including quick scan, auto-fix, and deep scan modes.",
        "details": "Create comprehensive security documentation at docs/SECURITY.md covering:\n\n1. **AgentShield Overview**: What it scans (CLAUDE.md secrets, MCP permissions, hook injection vectors, agent misconfigs)\n\n2. **Scan Commands**:\n   - Quick scan: `npx ecc-agentshield scan`\n   - Auto-fix: `npx ecc-agentshield scan --fix`\n   - Deep scan: `npx ecc-agentshield scan --opus` (3 adversarial Claude agents)\n\n3. **When to Run**:\n   - Before committing .claude/ changes\n   - In CI pipelines\n   - After adding new MCPs or modifying hooks\n   - Before PR reviews touching config\n\n4. **CI Integration Example**:\n```yaml\n# .github/workflows/security.yml\njobs:\n  agentshield:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - run: npx ecc-agentshield scan\n```\n\n5. **Relationship to /security-audit**: Clarify that /security-audit handles code-level vulnerabilities (OWASP), while AgentShield handles config-level risks.",
        "testStrategy": "1. Verify docs/SECURITY.md exists and contains all required sections\n2. Validate command examples are syntactically correct\n3. Check that CI example is valid YAML\n4. Ensure cross-references to /security-audit are accurate",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:51:09.950Z"
      },
      {
        "id": "17",
        "title": "Integrate AgentShield into /health Command",
        "description": "Update the /health command to check AgentShield scan status and recommend running it when stale or never run.",
        "details": "Modify .claude/commands/health.md to add AgentShield section:\n\n1. **Add Section 10: AgentShield Status**:\n```bash\n# Check for AgentShield marker file\nASHIELD_LAST_RUN=\"$PROJECT_DIR/.claude/agentshield-last-run\"\nif [ -f \"$ASHIELD_LAST_RUN\" ]; then\n    LAST_SCAN=$(cat \"$ASHIELD_LAST_RUN\")\n    SCAN_AGE=$(( ($(date +%s) - LAST_SCAN) / 86400 ))\n    # Recommend re-scan if >7 days old\nelse\n    echo \"AgentShield: Never run\"\nfi\n```\n\n2. **Health Table Entry**:\n```\nâ•‘ AgentShield         â”‚ âš  Stale     â”‚ Last scan: 14 days ago  â•‘\n```\n\n3. **Recommendations**:\n- If never run: \"Run `npx ecc-agentshield scan` for config security\"\n- If >7 days: \"Consider re-scanning with AgentShield\"\n\n4. **Update /security-audit**: Add note suggesting AgentShield for config scanning at end of report.",
        "testStrategy": "1. Run /health in a project with no AgentShield history - verify warning appears\n2. Create .claude/agentshield-last-run with old timestamp - verify 'stale' status\n3. Test with recent timestamp - verify healthy status\n4. Verify /security-audit includes AgentShield suggestion",
        "priority": "high",
        "dependencies": [
          "16"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:55:58.825Z"
      },
      {
        "id": "18",
        "title": "Create TDD-Guide Agent (Advisory)",
        "description": "Create the tdd-guide.md agent that coaches users on writing effective failing tests, constrained to never write production code.",
        "details": "Create .claude/agents/tdd-guide.md with:\n\n```yaml\n---\nname: tdd-guide\ndescription: Advisory TDD coaching - helps write effective failing tests. Superpowers enforces the cycle.\nmodel: sonnet\ntools: [Read, Write, Edit, Grep, Glob]\nconstraints:\n  - NEVER write production code - only tests and test guidance\n  - Superpowers enforces RED-GREEN-REFACTOR - this agent coaches the RED phase\n  - Cannot bypass or override Superpowers workflow\n---\n```\n\n**Agent Content**:\n1. **Role**: Help users write effective failing tests that Superpowers requires\n2. **Trigger**: When user struggles to write a test that Superpowers requires\n3. **Capabilities**:\n   - Test strategy selection (unit vs integration vs e2e)\n   - Mock/fixture guidance (when to mock, pytest fixtures)\n   - Edge case identification (boundary conditions, error paths)\n   - Assertion selection (appropriate matchers, clear failure messages)\n4. **CRITICAL CONSTRAINT** (in bold): \"This agent NEVER writes production code. Only test code and test guidance. Superpowers remains the enforcer of TDD discipline.\"\n5. **Example prompts**:\n   - \"Help me write a test for this authentication flow\"\n   - \"What edge cases should I test for this parser?\"\n   - \"How should I mock this external API?\"",
        "testStrategy": "1. Verify agent file exists with correct frontmatter\n2. Check that 'never write production code' constraint is prominent\n3. Validate tools list includes Write/Edit for test files only\n4. Ensure Superpowers relationship is clearly documented",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.558Z"
      },
      {
        "id": "19",
        "title": "Create Architect Agent",
        "description": "Create the architect.md agent for high-level system design, distinct from the implementation-focused planner agent.",
        "details": "Create .claude/agents/architect.md:\n\n```yaml\n---\nname: architect\ndescription: High-level system design, component diagrams, technology selection\nmodel: opus\ntools: [Read, Grep, Glob]\nreadOnly: true\n---\n```\n\n**Agent Content**:\n1. **Role**: Strategic technical decisions, not implementation details\n2. **Distinct from planner**: Planner does implementation planning (step-by-step). Architect does system design (big picture).\n3. **Capabilities**:\n   - Scalability analysis (when to scale, what bottlenecks exist)\n   - API boundary design (service contracts, versioning strategy)\n   - Data flow modeling (where data lives, how it moves)\n   - Technology selection (framework comparisons, tradeoffs)\n   - Component diagrams (ASCII or Mermaid syntax)\n4. **Output Format**:\n   - Architecture Decision Records (ADR) style\n   - Diagrams where helpful\n   - Explicit tradeoffs section\n5. **When to use**: Before starting major features, when adding new services, during scaling discussions",
        "testStrategy": "1. Verify agent definition has model: opus and readOnly: true\n2. Check that distinction from planner is documented\n3. Validate output format guidance is present\n4. Ensure tools are read-only (no Write/Edit)",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.563Z"
      },
      {
        "id": "20",
        "title": "Create Database Reviewer Agent",
        "description": "Create the database-reviewer.md agent for SQL and database optimization review.",
        "details": "Create .claude/agents/database-reviewer.md:\n\n```yaml\n---\nname: database-reviewer\ndescription: SQL/database optimization review - queries, indexes, migrations, schema design\nmodel: sonnet\ntools: [Read, Grep, Bash, Glob]\nreadOnly: true\n---\n```\n\n**Agent Content**:\n1. **Supported Databases**: PostgreSQL, SQLite, MongoDB patterns\n2. **Review Areas**:\n   - Query performance (EXPLAIN analysis, join optimization)\n   - Index suggestions (covering indexes, partial indexes)\n   - N+1 detection (ORM query patterns in Python/JS)\n   - Migration safety (zero-downtime migrations, rollback plans)\n   - Schema design (normalization, denormalization tradeoffs)\n3. **Output Format**:\n   - Severity-ordered findings like code-reviewer\n   - Include EXPLAIN output when relevant\n   - Suggest specific index CREATE statements\n4. **Bash Usage**: For running EXPLAIN, checking index stats, pg_stat_statements",
        "testStrategy": "1. Verify agent supports PostgreSQL, SQLite, MongoDB\n2. Check N+1 detection is documented with ORM examples\n3. Validate output format matches code-reviewer pattern\n4. Ensure Bash tool is included for query analysis",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.570Z"
      },
      {
        "id": "21",
        "title": "Create Doc-Updater Agent",
        "description": "Create the doc-updater.md agent for automatic documentation maintenance after code changes.",
        "details": "Create .claude/agents/doc-updater.md:\n\n```yaml\n---\nname: doc-updater\ndescription: Documentation maintenance - README, docstrings, API docs, CHANGELOG\nmodel: haiku\ntools: [Read, Write, Edit, Grep, Glob]\n---\n```\n\n**Agent Content**:\n1. **Model: haiku** - Lightweight; docs don't need deep reasoning\n2. **Capabilities**:\n   - README.md updates (new features, changed APIs)\n   - Docstring maintenance (sync with code changes)\n   - API documentation (endpoint changes, parameter updates)\n   - CHANGELOG entries (conventional commit integration)\n3. **Trigger Patterns**:\n   - After implementing a feature\n   - When public API changes\n   - Before PR creation\n4. **Rules**:\n   - Preserve existing structure\n   - Don't add unnecessary content\n   - Match existing documentation style\n   - Only update what changed",
        "testStrategy": "1. Verify model is haiku for efficiency\n2. Check that README/docstring/CHANGELOG patterns are documented\n3. Validate 'preserve existing structure' rule is present\n4. Ensure agent includes both Read and Write tools",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.575Z"
      },
      {
        "id": "22",
        "title": "Create Refactor-Cleaner Agent",
        "description": "Create the refactor-cleaner.md agent for controlled refactoring with minimal blast radius.",
        "details": "Create .claude/agents/refactor-cleaner.md:\n\n```yaml\n---\nname: refactor-cleaner\ndescription: Controlled refactoring with minimal blast radius - preserves tests, no behavior changes\nmodel: sonnet\ntools: [Read, Write, Edit, Grep, Glob]\n---\n```\n\n**Agent Content**:\n1. **Core Rules**:\n   - Preserve ALL existing tests (never delete or modify test assertions)\n   - No behavior changes (pure refactoring only)\n   - Extract-then-inline pattern (safer than direct modification)\n2. **Capabilities**:\n   - Dead code detection (unused functions, imports)\n   - Import cleanup (organize, remove unused)\n   - Naming consistency (variable/function naming patterns)\n   - Code deduplication (extract shared logic)\n   - Type annotation cleanup\n3. **Safety Measures**:\n   - Run tests before and after\n   - Commit after each atomic change\n   - Keep changes reviewable (small PRs)\n4. **Anti-patterns to avoid**:\n   - Changing public API signatures\n   - Modifying test behavior\n   - Adding new features during refactoring",
        "testStrategy": "1. Verify 'preserve all tests' rule is prominent\n2. Check extract-then-inline pattern is documented\n3. Validate safety measures include test runs\n4. Ensure no-behavior-change constraint is clear",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.580Z"
      },
      {
        "id": "23",
        "title": "Create E2E-Runner Agent",
        "description": "Create the e2e-runner.md agent for end-to-end test execution and debugging.",
        "details": "Create .claude/agents/e2e-runner.md:\n\n```yaml\n---\nname: e2e-runner\ndescription: E2E test execution and debugging - Playwright, Cypress, Selenium support\nmodel: sonnet\ntools: [Read, Bash, Grep, Glob]\nreadOnly: false\n---\n```\n\n**Agent Content**:\n1. **Supported Frameworks**: Playwright, Cypress, Selenium\n2. **Capabilities**:\n   - Test execution with detailed output\n   - Flaky test diagnosis (retry patterns, timing issues)\n   - Screenshot analysis (when available as files)\n   - Network request debugging (HAR files, request logs)\n   - Selector debugging (element not found, stale elements)\n3. **Debugging Workflow**:\n   1. Run test in verbose mode\n   2. Analyze failure output\n   3. Check for timing/flakiness patterns\n   4. Examine network requests if applicable\n   5. Suggest fixes\n4. **Common Issues**:\n   - Race conditions (add waits, use proper assertions)\n   - Selector brittleness (use data-testid, ARIA roles)\n   - Environment dependencies (mock external services)",
        "testStrategy": "1. Verify Playwright, Cypress, Selenium are all documented\n2. Check debugging workflow is step-by-step\n3. Validate flaky test diagnosis patterns exist\n4. Ensure Bash tool is included for test execution",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.588Z"
      },
      {
        "id": "24",
        "title": "Create Go-Reviewer and Go-Build-Resolver Agents",
        "description": "Create Go-specific agents for code review and build error resolution.",
        "details": "Create two agent files:\n\n**1. .claude/agents/go-reviewer.md**:\n```yaml\n---\nname: go-reviewer\ndescription: Go-specific code review - error handling, goroutines, interfaces, packages\nmodel: sonnet\ntools: [Read, Grep, Glob]\nreadOnly: true\n---\n```\n- Error handling patterns (checking errors, wrapping with %w)\n- Goroutine leaks (unbuffered channels, missing done signals)\n- Interface design (small interfaces, io.Reader patterns)\n- Package structure (internal/, cmd/, avoiding cyclic imports)\n- go vet/staticcheck pattern detection\n\n**2. .claude/agents/go-build-resolver.md**:\n```yaml\n---\nname: go-build-resolver\ndescription: Go build error resolution - modules, CGO, cross-compilation, linker\nmodel: sonnet\ntools: [Read, Write, Edit, Bash, Grep, Glob]\n---\n```\n- Module dependency issues (go mod tidy, replace directives)\n- CGO problems (missing libraries, cross-compile flags)\n- Cross-compilation (GOOS/GOARCH, static linking)\n- Linker errors (undefined symbols, version mismatches)",
        "testStrategy": "1. Verify both agents exist with correct frontmatter\n2. Check go-reviewer is read-only\n3. Validate go-build-resolver has Write/Bash for fixes\n4. Ensure Go-specific patterns are documented",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.594Z"
      },
      {
        "id": "25",
        "title": "Create Python-Reviewer Agent",
        "description": "Create the python-reviewer.md agent for deep Python-specific code review beyond general patterns.",
        "details": "Create .claude/agents/python-reviewer.md:\n\n```yaml\n---\nname: python-reviewer\ndescription: Deep Python-specific review - async, metaclasses, descriptors, GIL, packaging\nmodel: sonnet\ntools: [Read, Grep, Glob]\nreadOnly: true\n---\n```\n\n**Agent Content**:\n1. **Beyond General Code Review** - This complements code-reviewer with Python-specific depth\n2. **Advanced Patterns**:\n   - async/await patterns (event loop management, asyncio.gather vs TaskGroup)\n   - Metaclass usage (when appropriate, simpler alternatives)\n   - Descriptor protocol (__get__, __set__, __delete__)\n   - GIL implications (multiprocessing vs threading decisions)\n3. **Packaging**:\n   - pyproject.toml best practices\n   - Virtual environment issues\n   - Dependency conflicts\n4. **Python-Specific Anti-patterns**:\n   - Late binding closures in loops\n   - Mutable default arguments (also in code-reviewer but deeper context)\n   - Import cycles\n   - Overuse of __all__",
        "testStrategy": "1. Verify agent covers advanced Python patterns\n2. Check async/await guidance is present\n3. Validate packaging section exists\n4. Ensure distinction from general code-reviewer is clear",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T05:58:23.600Z"
      },
      {
        "id": "26",
        "title": "Create Python Testing and Django Skills",
        "description": "Create python-testing and python-django skill directories with SKILL.md files.",
        "details": "Create two skill files:\n\n**1. .claude/skills/python-testing/SKILL.md**:\n```yaml\n---\nname: python-testing\ndescription: pytest patterns, fixtures, parametrize, mocking, async testing, coverage\n---\n```\nContent:\n- pytest patterns (markers, conftest.py organization)\n- Fixture strategies (scope, factories, database fixtures)\n- parametrize patterns (test case generation)\n- Mock best practices (patch vs dependency injection)\n- Async testing (pytest-asyncio, event loop fixtures)\n- Coverage targets (realistic goals, branch coverage)\n\n**2. .claude/skills/python-django/SKILL.md**:\n```yaml\n---\nname: python-django\ndescription: Django patterns - ORM, middleware, signals, admin, DRF\n---\n```\nContent:\n- ORM optimization (select_related, prefetch_related, only/defer)\n- Middleware patterns (request/response processing)\n- Signals best practices (when to use, when to avoid)\n- Admin customization (ModelAdmin, inline, custom actions)\n- Django REST Framework patterns (serializers, viewsets, permissions)",
        "testStrategy": "1. Verify both skill directories exist with SKILL.md\n2. Check pytest patterns are comprehensive\n3. Validate Django ORM optimization is documented\n4. Ensure DRF patterns are included",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:03:35.130Z"
      },
      {
        "id": "27",
        "title": "Create TypeScript and Frontend Skills",
        "description": "Create typescript-patterns and frontend-patterns skill directories.",
        "details": "Create two skill files:\n\n**1. .claude/skills/typescript-patterns/SKILL.md**:\n```yaml\n---\nname: typescript-patterns\ndescription: TypeScript strict mode, generics, utility types, discriminated unions, modules\n---\n```\nContent:\n- Strict mode configuration (strictNullChecks, noImplicitAny)\n- Generics patterns (constraints, inference, conditional types)\n- Utility types (Partial, Pick, Omit, Record, custom utilities)\n- Discriminated unions (type narrowing, exhaustive checks)\n- Module patterns (barrel exports, path aliases)\n\n**2. .claude/skills/frontend-patterns/SKILL.md**:\n```yaml\n---\nname: frontend-patterns\ndescription: React/Vue/Svelte patterns, state management, accessibility, performance\n---\n```\nContent:\n- React patterns (hooks, composition, error boundaries)\n- Vue patterns (composition API, composables)\n- Svelte patterns (stores, actions, transitions)\n- State management (when to lift, global vs local)\n- Accessibility (ARIA, keyboard navigation, focus management)\n- Performance (lazy loading, virtualization, memoization)",
        "testStrategy": "1. Verify both skill directories exist\n2. Check TypeScript strict mode patterns are documented\n3. Validate React/Vue/Svelte are all covered\n4. Ensure accessibility section exists",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:03:35.135Z"
      },
      {
        "id": "28",
        "title": "Create Go and Java Skills",
        "description": "Create golang-patterns, golang-testing, and java-springboot skill directories.",
        "details": "Create three skill files:\n\n**1. .claude/skills/golang-patterns/SKILL.md**:\n- Go idioms (accept interfaces, return structs)\n- Error handling (wrapping, sentinel errors, custom types)\n- Concurrency patterns (worker pools, fan-out/fan-in, context)\n- Interface design (small interfaces, embedding)\n- Testing with table-driven tests\n\n**2. .claude/skills/golang-testing/SKILL.md**:\n- Table-driven tests pattern\n- Benchmarks (b.N loop, memory stats)\n- Fuzzing (go test -fuzz)\n- testify assertions\n- httptest for HTTP testing\n- Integration test organization\n\n**3. .claude/skills/java-springboot/SKILL.md**:\n- Spring Boot patterns (auto-configuration, profiles)\n- Dependency injection (@Autowired, constructor injection)\n- JPA/Hibernate patterns (entity mapping, lazy loading)\n- Security configuration (SecurityFilterChain, CORS)\n- Actuator endpoints (health, metrics)",
        "testStrategy": "1. Verify all three skill directories exist\n2. Check Go concurrency patterns are documented\n3. Validate Java Spring Boot DI patterns exist\n4. Ensure table-driven test pattern is in golang-testing",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:03:35.142Z"
      },
      {
        "id": "29",
        "title": "Create E2E Testing and Django Security Skills",
        "description": "Create e2e-testing and django-security skill directories.",
        "details": "Create two skill files:\n\n**1. .claude/skills/e2e-testing/SKILL.md**:\n```yaml\n---\nname: e2e-testing\ndescription: Playwright/Cypress patterns, page objects, network interception, visual regression, CI\n---\n```\nContent:\n- Page object pattern (encapsulation, reusability)\n- Network interception (mocking APIs, waiting for requests)\n- Visual regression (screenshot comparison, thresholds)\n- CI integration (headless mode, parallel execution, artifacts)\n- Test data management (fixtures, factories, cleanup)\n\n**2. .claude/skills/django-security/SKILL.md**:\n```yaml\n---\nname: django-security\ndescription: Django-specific security - CSRF, XSS, SQL injection, auth, secrets\n---\n```\nContent:\n- CSRF protection (middleware, AJAX requests, exemptions)\n- XSS prevention (template auto-escaping, mark_safe usage)\n- SQL injection prevention (ORM usage, raw queries)\n- Authentication (Django auth, custom backends, sessions)\n- Permissions (object-level, custom permissions, DRF permissions)\n- Secrets management (django-environ, environment variables)",
        "testStrategy": "1. Verify both skill directories exist\n2. Check page object pattern is documented\n3. Validate Django CSRF/XSS coverage\n4. Ensure secrets management section exists",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:03:35.147Z"
      },
      {
        "id": "30",
        "title": "Create Database Patterns Skill",
        "description": "Create database-patterns skill directory with SQL optimization, indexing, and migration safety.",
        "details": "Create .claude/skills/database-patterns/SKILL.md:\n\n```yaml\n---\nname: database-patterns\ndescription: SQL optimization, indexing, migration safety, N+1 prevention, connection pooling\n---\n```\n\n**Content**:\n1. **SQL Optimization**:\n   - EXPLAIN analysis (reading query plans)\n   - Join optimization (order, type selection)\n   - Subquery vs JOIN decisions\n\n2. **Indexing Strategies**:\n   - B-tree vs hash vs GIN/GiST\n   - Covering indexes (INCLUDE clause)\n   - Partial indexes (WHERE clause)\n   - Index maintenance (bloat, reindexing)\n\n3. **Migration Safety**:\n   - Zero-downtime migrations (add column, backfill, add constraint)\n   - Rollback strategies\n   - Large table migrations (batching)\n\n4. **N+1 Prevention**:\n   - Django: select_related, prefetch_related\n   - SQLAlchemy: joinedload, subqueryload\n   - Detection patterns\n\n5. **Connection Pooling**:\n   - PgBouncer configuration\n   - Django CONN_MAX_AGE\n   - SQLAlchemy pool settings",
        "testStrategy": "1. Verify skill directory exists\n2. Check EXPLAIN analysis guidance is present\n3. Validate N+1 patterns for Django and SQLAlchemy\n4. Ensure migration safety section exists",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:03:35.152Z"
      },
      {
        "id": "31",
        "title": "Create Continuous Learning v2 Directory Structure",
        "description": "Create .claude/instincts/ directory with README explaining the instinct-based learning system.",
        "details": "Create directory structure for continuous learning:\n\n**1. Create .claude/instincts/README.md**:\n- Overview of instinct-based learning\n- Format specification: JSON with pattern, confidence, source, category\n- Confidence thresholds: <0.3 discard, 0.3-0.7 candidate, >0.7 active\n- Categories: coding-style, testing-strategy, debugging-approach, architecture-preference, tool-usage\n- Authority hierarchy: Rules (.claude/rules/) > Instincts > Defaults\n\n**2. Create .claude/instincts/.gitkeep** (directory marker)\n\n**3. Add to .gitignore**:\n```\n.claude/instincts/*.json\n```\n(Instincts are personal, not shared by default)\n\n**4. Create example instinct file** (.claude/instincts/example.json):\n```json\n{\n  \"pattern\": \"Always run tests before committing\",\n  \"confidence\": 0.85,\n  \"category\": \"tool-usage\",\n  \"source_sessions\": [\"2024-01-15\", \"2024-01-18\"],\n  \"last_reinforced\": \"2024-01-18\",\n  \"active\": true\n}\n```",
        "testStrategy": "1. Verify .claude/instincts/ directory exists with README\n2. Check .gitignore includes instinct JSON files\n3. Validate example.json follows documented format\n4. Ensure authority hierarchy is clearly documented",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:05:47.552Z"
      },
      {
        "id": "32",
        "title": "Create Authority Hierarchy Rule",
        "description": "Add a rule in .claude/rules/ establishing that rules take precedence over instincts.",
        "details": "Create .claude/rules/authority-hierarchy.md:\n\n```yaml\n---\ntemplate-version: 2.0.0\ntemplate-file: .claude/rules/authority-hierarchy.md\n---\n```\n\n**Content**:\n# Authority Hierarchy\n\nWhen guidance conflicts, follow this precedence:\n\n1. **Rules** (.claude/rules/*.md) - Highest authority, project-defined behavior\n2. **Instincts** (.claude/instincts/*.json) - Learned patterns, supplementary\n3. **Defaults** - Built-in Claude behavior\n\n## Key Principles\n\n- Instincts **supplement** rules, they never **override** them\n- If an instinct contradicts a rule, follow the rule\n- Instincts are suggestions; rules are requirements\n- When in doubt, check rules first\n\n## Examples\n\n- Rule says \"commit frequently\" â†’ Do it, even if instinct suggests batching\n- Instinct suggests \"use pytest-asyncio\" â†’ Follow it (no conflicting rule)\n- Rule says \"80% confidence threshold\" â†’ Enforce it, regardless of instinct patterns\n\n## Instinct Integration\n\nWhen referencing instincts:\n- Say \"also consider\" not \"must follow\"\n- Treat as learned preferences, not requirements\n- Allow user override without friction",
        "testStrategy": "1. Verify rule file exists with correct frontmatter\n2. Check precedence order is clearly documented\n3. Validate examples are concrete and actionable\n4. Ensure 'supplement not override' principle is prominent",
        "priority": "high",
        "dependencies": [
          "31"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:05:47.557Z"
      },
      {
        "id": "33",
        "title": "Create Continuous Learning Skill",
        "description": "Create the continuous-learning-v2 skill defining pattern extraction, instinct evolution, and confidence management.",
        "details": "Create .claude/skills/continuous-learning-v2/SKILL.md:\n\n```yaml\n---\nname: continuous-learning-v2\ndescription: Instinct-based pattern extraction, confidence scoring, skill evolution\n---\n```\n\n**Content**:\n\n1. **Pattern Extraction**:\n   - After completing significant tasks, identify recurring patterns\n   - Focus on: tool usage, coding style, testing approaches, debugging methods\n   - Require 2+ occurrences before creating instinct\n\n2. **Instinct Format**:\n   ```json\n   {\n     \"pattern\": \"description of learned behavior\",\n     \"confidence\": 0.0-1.0,\n     \"category\": \"coding-style|testing-strategy|debugging-approach|architecture-preference|tool-usage\",\n     \"source_sessions\": [\"session_ids\"],\n     \"last_reinforced\": \"ISO-date\",\n     \"active\": true|false\n   }\n   ```\n\n3. **Confidence Management**:\n   - <0.3: Discard (noise)\n   - 0.3-0.7: Candidate (needs reinforcement)\n   - >0.7: Active instinct (applied automatically)\n   - Reinforcement: +0.1 per positive use\n   - Decay: -0.05 per week unused\n\n4. **Skill Evolution**:\n   - When 3+ related instincts cluster, suggest creating a skill\n   - Use /evolve command to trigger clustering analysis",
        "testStrategy": "1. Verify skill file exists with complete format spec\n2. Check confidence thresholds are documented\n3. Validate category list matches README\n4. Ensure reinforcement/decay rules are specified",
        "priority": "high",
        "dependencies": [
          "31",
          "32"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:05:47.563Z"
      },
      {
        "id": "34",
        "title": "Create Instinct Management Commands",
        "description": "Create /instinct-status, /instinct-import, /instinct-export, and /evolve commands.",
        "details": "Create four command files:\n\n**1. .claude/commands/instinct-status.md**:\n- List all instincts with confidence scores\n- Group by category\n- Show active vs candidate vs deprecated\n- Format: table with pattern, confidence, last_reinforced\n\n**2. .claude/commands/instinct-import.md**:\n- Import instincts from JSON file\n- Validate format before import\n- Merge with existing (higher confidence wins)\n- Usage: `/instinct-import path/to/instincts.json`\n\n**3. .claude/commands/instinct-export.md**:\n- Export instincts to shareable JSON\n- Filter by category or confidence threshold\n- Usage: `/instinct-export [--category=X] [--min-confidence=0.7]`\n\n**4. .claude/commands/evolve.md**:\n- Analyze instincts for clustering opportunities\n- Suggest new skills from related instincts\n- Interactive: user approves/rejects suggestions\n- Creates SKILL.md from approved clusters",
        "testStrategy": "1. Verify all four command files exist\n2. Check /instinct-status shows table format\n3. Validate import/export handle JSON correctly\n4. Ensure /evolve describes clustering algorithm",
        "priority": "medium",
        "dependencies": [
          "31",
          "32",
          "33"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:05:47.569Z"
      },
      {
        "id": "35",
        "title": "Create /orchestrate Command",
        "description": "Create the /orchestrate command for multi-agent pipeline execution.",
        "details": "Create .claude/commands/orchestrate.md:\n\n**Command Definition**:\n- Usage: `/orchestrate [pipeline-name]` or `/orchestrate agent1 agent2 agent3`\n\n**Default Pipelines**:\n1. `feature`: planner â†’ tdd-guide â†’ (implement) â†’ code-reviewer â†’ security-reviewer\n2. `review`: code-reviewer â†’ security-reviewer â†’ database-reviewer (if SQL detected)\n3. `refactor`: architect â†’ refactor-cleaner â†’ code-reviewer â†’ (tests)\n\n**Custom Pipelines**:\n- Specify agent names in order: `/orchestrate architect planner code-reviewer`\n\n**Handoff Documents**:\n- Each agent produces structured output for the next\n- Format: Summary, Findings, Recommendations, Context for Next Agent\n\n**Final Report**:\n- Aggregated findings from all agents\n- Severity-ordered across entire pipeline\n- Conflicts/contradictions noted\n\n**Example**:\n```\n/orchestrate feature\n\nExecuting pipeline: planner â†’ tdd-guide â†’ code-reviewer â†’ security-reviewer\n\n[1/4] Running planner...\n[2/4] Running tdd-guide...\n...\n\nâ•â•â• ORCHESTRATION REPORT â•â•â•\n...\n```",
        "testStrategy": "1. Verify command file exists with pipeline definitions\n2. Check default pipelines are documented\n3. Validate handoff document format is specified\n4. Ensure custom pipeline syntax is clear",
        "priority": "high",
        "dependencies": [
          "18",
          "19",
          "20",
          "21",
          "22",
          "23",
          "24",
          "25"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:09:24.928Z"
      },
      {
        "id": "36",
        "title": "Update Proactive Steering for Orchestration",
        "description": "Update proactive-steering.md to mention /orchestrate when detecting full feature cycles.",
        "details": "Modify .claude/rules/proactive-steering.md:\n\n1. **Add to Auto-Invoke Tools section**:\n```markdown\n| Context Signal | Auto-Invoke |\n|----------------|-------------|\n| Full feature cycle detected | Suggest /orchestrate |\n| \"implement this feature end-to-end\" | /orchestrate feature |\n| \"review this thoroughly\" | /orchestrate review |\n```\n\n2. **Add Orchestration Pattern** (new section):\n```markdown\n### Pattern: Full Feature Cycle\n\nWhen user requests a complete feature implementation:\n\n1. Detect scope (is this end-to-end work?)\n2. Suggest orchestration: \"This looks like a full feature. Want me to run /orchestrate feature?\"\n3. If accepted, execute pipeline\n4. Present aggregated report\n\n**Signals for orchestration:**\n- \"Build this feature\"\n- \"Implement X from scratch\"\n- \"Add full support for Y\"\n```\n\n3. **Update Tool Selection Decision Tree** in workflow-guide.md:\n- Add orchestration branch for multi-agent workflows",
        "testStrategy": "1. Verify proactive-steering.md includes orchestration pattern\n2. Check auto-invoke table has orchestration entries\n3. Validate workflow-guide.md decision tree is updated\n4. Ensure feature cycle detection signals are documented",
        "priority": "medium",
        "dependencies": [
          "35"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:09:24.934Z"
      },
      {
        "id": "37",
        "title": "Create /multi-plan Command",
        "description": "Create the /multi-plan command for parallel planning with Claude, Gemini, and Codex.",
        "details": "Create .claude/commands/multi-plan.md:\n\n**Command Definition**:\n- Usage: `/multi-plan <requirements>`\n- Sends requirements to multiple models in parallel\n\n**Model Roles**:\n- Claude: Primary analysis (architecture, security, testing strategy)\n- Gemini: Alternative perspective (different approaches, catches different issues)\n- Codex: Implementation-focused (practical code patterns, API usage)\n\n**Synthesis Step**:\n- Claude aggregates all perspectives\n- Notes conflicts between models\n- Produces unified plan\n\n**Output Format**:\n```markdown\n# Multi-Model Plan\n\n## Claude Analysis\n[Primary plan]\n\n## Gemini Perspective\n[Alternative viewpoints, additional concerns]\n\n## Codex Suggestions\n[Implementation details, code patterns]\n\n## Synthesis\n[Unified plan with conflicts noted]\n\n## Conflicts/Differences\n- [Area]: Claude says X, Gemini says Y\n```\n\n**API Requirements**:\n- Gemini: Google AI Studio API key (GOOGLE_AI_KEY)\n- Codex: OpenAI API key (OPENAI_API_KEY)\n- Graceful degradation: Skip missing models, note in output",
        "testStrategy": "1. Verify command file exists with model roles\n2. Check synthesis step is documented\n3. Validate graceful degradation is specified\n4. Ensure output format shows conflicts",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:09:24.940Z"
      },
      {
        "id": "38",
        "title": "Create /multi-execute Command",
        "description": "Create the /multi-execute command for parallel implementation with multiple models.",
        "details": "Create .claude/commands/multi-execute.md:\n\n**Command Definition**:\n- Usage: `/multi-execute <task>`\n- Parallel implementation with different models\n\n**Division of Work**:\n- Claude: Core logic, complex algorithms\n- Gemini: Alternative implementations, edge case handling\n- Codex: Boilerplate generation, API integrations\n\n**Merge Step**:\n- Claude reviews all outputs\n- Selects best approaches per component\n- Synthesizes into cohesive implementation\n\n**Output Format**:\n```markdown\n# Multi-Model Execution\n\n## Implementation Components\n\n### Core Logic (Claude)\n[code]\n\n### Alternative Approach (Gemini)\n[code - if different/better]\n\n### Boilerplate (Codex)\n[code]\n\n## Merged Implementation\n[synthesized code]\n\n## Selection Rationale\n- Used Claude's approach for X because...\n- Incorporated Gemini's Y because...\n```\n\n**Graceful Degradation**:\n- Missing API keys: Note which model skipped\n- API errors: Retry once, then skip with note",
        "testStrategy": "1. Verify command file exists with work division\n2. Check merge step is documented\n3. Validate graceful degradation handles missing keys\n4. Ensure selection rationale is in output",
        "priority": "medium",
        "dependencies": [
          "37"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:09:24.946Z"
      },
      {
        "id": "39",
        "title": "Create Multi-Model Configuration Example",
        "description": "Create .claude/examples/multi-model-config.json showing API key configuration for multi-model commands.",
        "details": "Create .claude/examples/multi-model-config.json:\n\n```json\n{\n  \"description\": \"Multi-model API configuration example\",\n  \"note\": \"Add these to your .env file - never commit actual keys\",\n  \"required_env_vars\": {\n    \"GOOGLE_AI_KEY\": {\n      \"description\": \"Google AI Studio API key for Gemini\",\n      \"source\": \"https://makersuite.google.com/app/apikey\",\n      \"subscription\": \"$20/month Google AI plan or free tier\"\n    },\n    \"OPENAI_API_KEY\": {\n      \"description\": \"OpenAI API key for Codex/GPT\",\n      \"source\": \"https://platform.openai.com/api-keys\",\n      \"subscription\": \"$20/month ChatGPT Plus or API credits\"\n    }\n  },\n  \"example_env\": [\n    \"# .env (DO NOT COMMIT)\",\n    \"GOOGLE_AI_KEY=your_google_key_here\",\n    \"OPENAI_API_KEY=your_openai_key_here\"\n  ],\n  \"verification\": {\n    \"gemini\": \"curl -H 'Authorization: Bearer $GOOGLE_AI_KEY' https://generativelanguage.googleapis.com/v1/models\",\n    \"openai\": \"curl -H 'Authorization: Bearer $OPENAI_API_KEY' https://api.openai.com/v1/models\"\n  }\n}\n```\n\nAlso update protect-sensitive-files.sh to include these keys if not already.",
        "testStrategy": "1. Verify config file exists with correct structure\n2. Check .env example is clear\n3. Validate verification commands are correct\n4. Ensure note about not committing keys is prominent",
        "priority": "low",
        "dependencies": [
          "37",
          "38"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:09:24.952Z"
      },
      {
        "id": "40",
        "title": "Create /verify Command",
        "description": "Create the /verify command for structured verification pipeline (test + lint + type-check + security).",
        "details": "Create .claude/commands/verify.md:\n\n**Command Definition**:\n- Usage: `/verify [scope]`\n- Scope: file, directory, or 'all' (default: changed files)\n\n**Pipeline Stages**:\n1. **Tests**: `pytest` (or detected test runner)\n2. **Lint**: `ruff check` (or detected linter)\n3. **Type Check**: `mypy` (or detected type checker)\n4. **Security**: `bandit -r` (or detected security scanner)\n\n**Output Format**:\n```\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘           VERIFICATION REPORT              â•‘\nâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\nâ•‘ Stage        â”‚ Status  â”‚ Details           â•‘\nâ• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£\nâ•‘ Tests        â”‚ âœ“ Pass  â”‚ 45 passed, 0 failedâ•‘\nâ•‘ Lint         â”‚ âœ— Fail  â”‚ 3 errors          â•‘\nâ•‘ Type Check   â”‚ âœ“ Pass  â”‚                   â•‘\nâ•‘ Security     â”‚ âš  Warn  â”‚ 1 low severity    â•‘\nâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\nâ•‘ Overall: FAIL (fix lint errors)            â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n```\n\n**Relationship to /test**:\n- /test is quick (just pytest)\n- /verify is comprehensive (all checks)\n- Both respect same test configuration",
        "testStrategy": "1. Verify command file exists with all stages\n2. Check output format is table-based\n3. Validate relationship to /test is documented\n4. Ensure graceful handling of missing tools",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:50.397Z"
      },
      {
        "id": "41",
        "title": "Create /eval Command",
        "description": "Create the /eval command for quality metrics evaluation and tracking over time.",
        "details": "Create .claude/commands/eval.md and .claude/evals/ directory:\n\n**Command Definition**:\n- Usage: `/eval [--save]`\n- Runs comprehensive quality analysis\n- Stores results in .claude/evals/ as timestamped JSON\n\n**Metrics Collected**:\n1. Test coverage (pytest-cov percentage)\n2. Lint score (errors/warnings per file)\n3. Type coverage (typed functions percentage)\n4. Cyclomatic complexity (average per function)\n\n**Output Format**:\n```\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘          EVALUATION RESULTS               â•‘\nâ• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£\nâ•‘ Metric            â”‚ Current â”‚ Previous    â•‘\nâ• â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•£\nâ•‘ Test Coverage     â”‚ 78%     â”‚ 75% (+3%)   â•‘\nâ•‘ Lint Score        â”‚ 0.2/fileâ”‚ 0.5 (+60%)  â•‘\nâ•‘ Type Coverage     â”‚ 65%     â”‚ 60% (+5%)   â•‘\nâ•‘ Avg Complexity    â”‚ 4.2     â”‚ 4.5 (+7%)   â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n```\n\n**Storage Format** (.claude/evals/eval_TIMESTAMP.json):\n```json\n{\n  \"timestamp\": \"2024-01-15T10:30:00Z\",\n  \"metrics\": {\n    \"test_coverage\": 78,\n    \"lint_score\": 0.2,\n    \"type_coverage\": 65,\n    \"avg_complexity\": 4.2\n  },\n  \"files_analyzed\": 42\n}\n```\n\n**Integration with /health**:\n- Show recent eval results in health check\n- Warn if no eval in last 7 days",
        "testStrategy": "1. Verify command file and evals directory exist\n2. Check metrics are comprehensive\n3. Validate JSON storage format\n4. Ensure trend comparison is shown",
        "priority": "medium",
        "dependencies": [
          "40"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:50.919Z"
      },
      {
        "id": "42",
        "title": "Create /skill-create Command",
        "description": "Create the /skill-create command to auto-generate SKILL.md files from git commit history.",
        "details": "Create .claude/commands/skill-create.md:\n\n**Command Definition**:\n- Usage: `/skill-create [--days=30]`\n- Analyzes git commit history for patterns\n- Proposes new skills based on detected patterns\n\n**Analysis Process**:\n1. Read recent commits (default: 30 days)\n2. Categorize by conventional commit type (feat, fix, test, etc.)\n3. Identify recurring patterns:\n   - Files frequently changed together\n   - Common commit message themes\n   - Repeated fix patterns\n4. Cluster related patterns\n5. Propose skill from each cluster\n\n**Output Format**:\n```\nğŸ“Š Analyzing 45 commits from last 30 days...\n\nDetected patterns:\n\n1. API Error Handling (12 commits)\n   Files: src/api/*.py\n   Pattern: \"fix: handle ... error\"\n   Suggested skill: api-error-handling\n\n2. Database Migrations (8 commits)\n   Files: migrations/*.py\n   Pattern: \"feat: add migration for ...\"\n   Suggested skill: migration-patterns\n\nCreate skills? [1] [2] [all] [none]\n```\n\n**Skill Generation**:\n- Creates .claude/skills/{name}/SKILL.md\n- Extracts content from related commits and code\n- User reviews and edits before final save",
        "testStrategy": "1. Verify command file exists with analysis process\n2. Check pattern detection is documented\n3. Validate skill generation creates SKILL.md\n4. Ensure user review step is included",
        "priority": "low",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:51.611Z"
      },
      {
        "id": "43",
        "title": "Create /update-codemaps Command",
        "description": "Create the /update-codemaps command to generate human-readable architecture docs in docs/CODEMAPS/.",
        "details": "Create .claude/commands/update-codemaps.md and docs/CODEMAPS/ directory:\n\n**Command Definition**:\n- Usage: `/update-codemaps [scope]`\n- Generates human-readable architecture documentation\n- Complements project-index.sh (machine-readable JSON)\n\n**Generated Files**:\n\n1. **docs/CODEMAPS/imports.md**:\n   - Import/dependency graph per module\n   - External dependencies highlighted\n   - Circular dependency warnings\n\n2. **docs/CODEMAPS/exports.md**:\n   - Public API surface per module\n   - Functions, classes, constants exported\n   - Deprecation notices\n\n3. **docs/CODEMAPS/architecture.md**:\n   - High-level module relationships\n   - ASCII or Mermaid diagrams\n   - Layer boundaries (if detectable)\n\n**Example Output** (imports.md):\n```markdown\n# Import Map\n\n## src/api/\n- **auth.py** â†’ utils, models.user, services.jwt\n- **endpoints.py** â†’ auth, models, schemas\n\n## External Dependencies\n- fastapi (api/*)\n- sqlalchemy (models/*)\n- pydantic (schemas/*)\n```\n\n**Relationship to project-index.sh**:\n- project-index.sh: JSON for Claude/tools\n- update-codemaps: Markdown for humans",
        "testStrategy": "1. Verify command file and CODEMAPS directory exist\n2. Check imports.md/exports.md/architecture.md formats\n3. Validate relationship to project-index.sh is clear\n4. Ensure Mermaid diagram support is mentioned",
        "priority": "low",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:52.393Z"
      },
      {
        "id": "44",
        "title": "Create /checkpoint Command",
        "description": "Create the /checkpoint command for manual session state saves beyond automatic session-end.",
        "details": "Create .claude/commands/checkpoint.md:\n\n**Command Definition**:\n- Usage: `/checkpoint [name]`\n- Manual session state save to .claude/sessions/\n- Supplements automatic session-end.sh saves\n\n**When to Use**:\n- Before risky operations\n- At significant milestones\n- When you want to preserve current reasoning\n- Before switching contexts within a session\n\n**Output File** (.claude/sessions/checkpoint-TIMESTAMP.md):\n```markdown\n# Checkpoint: [name]\nTimestamp: 2024-01-15T14:30:00Z\n\n## Current Context\n- Task: [current task ID and title]\n- Branch: [git branch]\n- Recent commits: [last 3]\n\n## Active Reasoning\n[Summary of current thinking/approach]\n\n## Files in Focus\n[Recently read/modified files]\n\n## Next Steps\n[Planned actions]\n\n---\n*Manual checkpoint via /checkpoint*\n```\n\n**Integration**:\n- session-init.sh detects checkpoints alongside automatic summaries\n- Shows in \"Last Session\" section if <24h old\n- Named checkpoints easier to find than timestamped ones",
        "testStrategy": "1. Verify command file exists\n2. Check output format includes context, reasoning, files\n3. Validate session-init.sh integration is documented\n4. Ensure timestamp format is consistent with session-end.sh",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:52.852Z"
      },
      {
        "id": "45",
        "title": "Create TypeScript Language Rules",
        "description": "Create .claude/rules/typescript/coding-standards.md with TypeScript-specific conventions.",
        "details": "Create .claude/rules/typescript/coding-standards.md:\n\n```yaml\n---\ntemplate-version: 2.0.0\ntemplate-file: .claude/rules/typescript/coding-standards.md\npaths: [\"**/*.ts\", \"**/*.tsx\"]\n---\n```\n\n**Content**:\n\n# TypeScript Coding Standards\n\n## Strict Mode Requirements\n- Always enable strict mode in tsconfig.json\n- No `any` without explicit justification comment\n- Enable strictNullChecks, noImplicitAny, strictFunctionTypes\n\n## Type Patterns\n- Prefer interfaces for object shapes\n- Use type for unions, intersections, mapped types\n- Avoid excessive generics (YAGNI applies)\n- Use branded types for IDs: `type UserId = string & { _brand: 'UserId' }`\n\n## Null Handling\n- Use optional chaining (?.) over explicit null checks\n- Use nullish coalescing (??) over || for defaults\n- Prefer undefined over null for optional values\n\n## Imports\n- Use type imports for type-only imports: `import type { X }`\n- Organize: external, internal, relative, types\n\n## React-Specific (if applicable)\n- Use FC sparingly (prefer explicit return types)\n- Props interfaces named ComponentNameProps\n- Custom hooks return explicit types",
        "testStrategy": "1. Verify file exists with paths frontmatter\n2. Check strict mode requirements are documented\n3. Validate type patterns are comprehensive\n4. Ensure React-specific section exists",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:53.500Z"
      },
      {
        "id": "46",
        "title": "Create Go and Java Language Rules",
        "description": "Create .claude/rules/golang/ and .claude/rules/java/ with language-specific conventions.",
        "details": "Create two rule files:\n\n**1. .claude/rules/golang/coding-standards.md**:\n```yaml\n---\npaths: [\"**/*.go\"]\n---\n```\n- Error handling: Always check errors, wrap with %w\n- Naming: MixedCaps, not underscores; short receiver names\n- Package design: One package per directory, meaningful names\n- Interfaces: Accept interfaces, return structs\n- Goroutines: Always have exit conditions, use context\n- Testing: Table-driven tests, testify optional\n\n**2. .claude/rules/java/coding-standards.md**:\n```yaml\n---\npaths: [\"**/*.java\"]\n---\n```\n- Naming: Classes PascalCase, methods camelCase, constants UPPER_SNAKE\n- Spring patterns: Constructor injection over field injection\n- Null handling: Use Optional for nullable returns\n- Collections: Prefer List.of(), Map.of() for immutables\n- Exceptions: Checked for recoverable, unchecked for bugs\n- Lombok: Acceptable for DTOs, avoid for complex classes",
        "testStrategy": "1. Verify both rule files exist with correct paths\n2. Check Go error handling patterns are documented\n3. Validate Java Spring patterns are included\n4. Ensure paths frontmatter matches file extensions",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:54.197Z"
      },
      {
        "id": "47",
        "title": "Create Frontend Component Rules",
        "description": "Create .claude/rules/frontend/component-standards.md for React/Vue/Svelte conventions.",
        "details": "Create .claude/rules/frontend/component-standards.md:\n\n```yaml\n---\ntemplate-version: 2.0.0\ntemplate-file: .claude/rules/frontend/component-standards.md\npaths: [\"**/*.jsx\", \"**/*.tsx\", \"**/*.vue\", \"**/*.svelte\"]\n---\n```\n\n**Content**:\n\n# Frontend Component Standards\n\n## Universal Principles\n- Single responsibility per component\n- Props down, events up\n- Prefer composition over inheritance\n- Keep components under 200 lines\n\n## React\n- Functional components with hooks\n- Custom hooks for shared logic (useX naming)\n- Memoize expensive computations (useMemo, useCallback)\n- Error boundaries for crash isolation\n\n## Vue\n- Composition API for new components\n- Composables for shared logic (useX naming)\n- Avoid excessive watchers\n- Use v-memo for list optimizations\n\n## Svelte\n- Use stores for shared state\n- Actions for reusable behavior\n- Transitions for UX polish\n- Keep reactivity simple ($: statements)\n\n## Accessibility\n- Semantic HTML first (button not div)\n- ARIA only when semantic HTML insufficient\n- Keyboard navigation for all interactive elements\n- Focus management on navigation",
        "testStrategy": "1. Verify file exists with correct paths frontmatter\n2. Check React/Vue/Svelte sections are all present\n3. Validate accessibility section exists\n4. Ensure single responsibility principle is documented",
        "priority": "medium",
        "dependencies": [],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:54.878Z"
      },
      {
        "id": "48",
        "title": "Update /update-docs and Documentation Automation",
        "description": "Create /update-docs command that triggers doc-updater agent on recently changed files.",
        "details": "Create .claude/commands/update-docs.md:\n\n**Command Definition**:\n- Usage: `/update-docs [scope]`\n- Scope: 'recent' (default), 'all', or specific file/directory\n- Triggers doc-updater agent\n\n**Workflow**:\n1. Identify changed files (git diff or explicit scope)\n2. Filter to code files (exclude docs, configs)\n3. Spawn doc-updater agent with file list\n4. Agent updates:\n   - README.md (if public API changed)\n   - Docstrings (if functions changed)\n   - CHANGELOG (if new features/fixes)\n\n**Output**:\n```\nğŸ“ Documentation Update\n\nFiles analyzed: 5\nDocs updated: 2\n\nChanges:\n- README.md: Updated API section\n- src/auth.py: Added docstrings to 3 functions\n\nNo CHANGELOG entry needed (no feat/fix commits)\n```\n\n**Integration**:\n- Can be run manually or as pre-PR step\n- Suggested by proactive-steering before /pr\n- Lightweight (haiku model via doc-updater agent)",
        "testStrategy": "1. Verify command file exists with workflow\n2. Check scope options are documented\n3. Validate output format shows changes\n4. Ensure integration with /pr is mentioned",
        "priority": "low",
        "dependencies": [
          "21"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:19:55.433Z"
      },
      {
        "id": "49",
        "title": "Update CLAUDE.md with Phase 2 Features",
        "description": "Update CLAUDE.md to document new Phase 2 commands, agents, and skills.",
        "details": "Update CLAUDE.md with comprehensive Phase 2 documentation:\n\n**1. Update Agents Section**:\nAdd table entries for all 9 new agents:\n- architect (opus, read-only)\n- tdd-guide (sonnet, advisory)\n- database-reviewer (sonnet, SQL focus)\n- doc-updater (haiku, lightweight)\n- refactor-cleaner (sonnet, controlled refactoring)\n- e2e-runner (sonnet, Playwright/Cypress)\n- go-reviewer (sonnet, Go-specific)\n- go-build-resolver (sonnet, Go builds)\n- python-reviewer (sonnet, Python-specific)\n\n**2. Update Slash Commands Table**:\nAdd new commands:\n- /orchestrate - Multi-agent pipeline execution\n- /multi-plan - Parallel planning with Claude/Gemini/Codex\n- /multi-execute - Parallel implementation\n- /verify - Test + lint + type-check + security\n- /eval - Quality metrics tracking\n- /checkpoint - Manual session save\n- /instinct-status, /instinct-import, /instinct-export, /evolve - Instinct management\n- /skill-create - Auto-generate skills\n- /update-codemaps - Architecture docs\n- /update-docs - Documentation sync\n\n**3. Add Continuous Learning Section**:\n- Instinct system overview\n- Authority hierarchy (rules > instincts)\n- Commands for management\n\n**4. Add Multi-Model Section**:\n- API key requirements\n- How /multi-plan and /multi-execute work\n- Graceful degradation\n\n**5. Update Reference Docs**:\n- Add docs/SECURITY.md (AgentShield)",
        "testStrategy": "1. Verify all new agents are in agents table\n2. Check all new commands are in commands table\n3. Validate continuous learning section exists\n4. Ensure multi-model section documents API keys",
        "priority": "high",
        "dependencies": [
          "16",
          "17",
          "18",
          "19",
          "20",
          "21",
          "22",
          "23",
          "24",
          "25",
          "26",
          "27",
          "28",
          "29",
          "30",
          "31",
          "32",
          "33",
          "34",
          "35",
          "36",
          "37",
          "38",
          "39",
          "40",
          "41",
          "42",
          "43",
          "44",
          "45",
          "46",
          "47",
          "48"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:22:18.259Z"
      },
      {
        "id": "50",
        "title": "Update ECC_INTEGRATION.md for Phase 2",
        "description": "Update docs/ECC_INTEGRATION.md with Phase 2 features and migration notes.",
        "details": "Update docs/ECC_INTEGRATION.md:\n\n**1. Update \"What Was Integrated\" Table**:\nAdd Phase 2 features:\n- Continuous learning v2 | ECC instinct patterns | .claude/instincts/\n- Multi-agent orchestration | ECC pipeline patterns | /orchestrate\n- Multi-model collaboration | ECC multi-model patterns | /multi-plan, /multi-execute\n- AgentShield | ECC security scanning | docs/SECURITY.md\n- 9 new agents | ECC agent library | .claude/agents/\n- 10 new skills | ECC skill library | .claude/skills/\n- Language-specific rules | ECC polyglot patterns | .claude/rules/{lang}/\n\n**2. Add Phase 2 Quick Start**:\n- Continuous learning: /instinct-status, /evolve\n- Orchestration: /orchestrate feature\n- Multi-model: Configure API keys, /multi-plan\n- Security: npx ecc-agentshield scan\n\n**3. Update Migration Notes**:\n- New directories: .claude/instincts/, .claude/evals/, docs/CODEMAPS/\n- New files: 9 agents, 10 skills, 4 language rules\n- New gitignore entries: .claude/instincts/*.json, .claude/evals/*.json\n- API key setup for multi-model\n\n**4. Update Token Overhead Table**:\n- Note that skills are on-demand (not auto-loaded)\n- Instincts are lightweight JSON\n- AgentShield is external (npx, no token cost)",
        "testStrategy": "1. Verify Phase 2 features are in integration table\n2. Check migration notes are comprehensive\n3. Validate token overhead notes are accurate\n4. Ensure API key setup is documented",
        "priority": "medium",
        "dependencies": [
          "49"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-13T06:22:18.991Z"
      },
      {
        "id": "51",
        "title": "Create /multi-backend command",
        "description": "Adapt ECC's multi-backend command to our template. Backend-focused development workflow (Research â†’ Ideation â†’ Plan â†’ Execute â†’ Optimize â†’ Review) with codeagent-wrapper for Codex-led backend work.",
        "details": "Fetch ECC source from affaan-m/everything-claude-code/commands/multi-backend.md. Adapt file paths and naming to our .claude/commands/ structure. Keep codeagent-wrapper approach and role prompt references. Preserve 6-phase workflow structure.",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": [],
        "updatedAt": "2026-02-18T21:58:28.150Z"
      },
      {
        "id": "52",
        "title": "Create /multi-frontend command",
        "description": "Adapt ECC's multi-frontend command to our template. Frontend-focused development workflow with Gemini-led UI/UX work via codeagent-wrapper.",
        "details": "Fetch ECC source from affaan-m/everything-claude-code/commands/multi-frontend.md. Adapt file paths and naming to our .claude/commands/ structure. Keep Gemini-led approach with codeagent-wrapper.",
        "testStrategy": "",
        "status": "done",
        "dependencies": [],
        "priority": "high",
        "subtasks": [],
        "updatedAt": "2026-02-18T21:59:11.146Z"
      },
      {
        "id": "53",
        "title": "Create /multi-workflow command",
        "description": "Adapt ECC's multi-workflow command. Meta-orchestration coordinating backend (Codex) + frontend (Gemini) + Claude for full-stack collaborative development.",
        "details": "Fetch ECC source from affaan-m/everything-claude-code/commands/multi-workflow.md. Combined 6-phase workflow with parallel model calls, session reuse, and quality gates.",
        "testStrategy": "",
        "status": "cancelled",
        "dependencies": [],
        "priority": "high",
        "subtasks": [],
        "updatedAt": "2026-02-18T21:59:35.567Z"
      },
      {
        "id": "54",
        "title": "Create strategic-compact skill",
        "description": "Adopt ECC's strategic-compact skill. Tactical compaction patterns with suggest-compact.sh hook script adapted from ECC's bash version.",
        "details": "Fetch ECC source from affaan-m/everything-claude-code/skills/strategic-compact/. Contains SKILL.md and suggest-compact.sh. Adapts our existing suggest-compact.sh hook with ECC's skill documentation for compaction decision guide.",
        "testStrategy": "",
        "status": "cancelled",
        "dependencies": [],
        "priority": "high",
        "subtasks": [],
        "updatedAt": "2026-02-18T21:59:41.021Z"
      },
      {
        "id": "55",
        "title": "Create django-patterns skill",
        "description": "Adopt ECC's django-patterns skill. Comprehensive Django development patterns covering ORM, DRF, caching, signals, middleware, service layer.",
        "details": "Fetch ECC source from affaan-m/everything-claude-code/skills/django-patterns/SKILL.md. Fills gap in our Django coverage (we have security/tdd/verification but not general patterns). Default to ECC's implementation.",
        "testStrategy": "",
        "status": "cancelled",
        "dependencies": [],
        "priority": "high",
        "subtasks": [],
        "updatedAt": "2026-02-18T21:59:46.889Z"
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2026-02-18T21:59:46.890Z",
      "taskCount": 40,
      "completedCount": 37,
      "tags": [
        "master"
      ]
    }
  },
  "ecc-gap-p1": {
    "tasks": [
      {
        "id": "1",
        "title": "Verify multi-backend and multi-frontend commands exist",
        "description": "Confirm that the /multi-backend and /multi-frontend commands were successfully committed and match ECC's implementation patterns. These are marked as ALREADY IMPLEMENTED in the PRD.",
        "details": "Read and verify the existing implementations at:\n- `.claude/commands/multi-backend.md` - Backend-focused workflow with Codex as authority\n- `.claude/commands/multi-frontend.md` - Frontend-focused workflow with Gemini as authority\n\nVerification checklist:\n1. Usage syntax uses /multi-backend and /multi-frontend (not /backend, /frontend)\n2. codeagent-wrapper call syntax is preserved from ECC\n3. Role prompt paths reference ~/.claude/.ccg/prompts/\n4. 6-phase workflow structure (Research â†’ Ideation â†’ Plan â†’ Execute â†’ Optimize â†’ Review) intact\n5. Session reuse (CODEX_SESSION / GEMINI_SESSION) documented\n6. Model specification correct (Codex default, Gemini with gemini-3-pro-preview)\n\nPseudo-code for verification:\n```bash\n# Check files exist\ntest -f .claude/commands/multi-backend.md && echo \"multi-backend: OK\"\ntest -f .claude/commands/multi-frontend.md && echo \"multi-frontend: OK\"\n\n# Verify key content\ngrep -q \"codeagent-wrapper\" .claude/commands/multi-backend.md\ngrep -q \"codeagent-wrapper\" .claude/commands/multi-frontend.md\n```",
        "testStrategy": "1. File existence check for both command files\n2. Content validation: grep for codeagent-wrapper syntax\n3. Verify 6-phase labels are present ([Mode: Research], [Mode: Ideation], etc.)\n4. Confirm session reuse documentation (resume <SESSION_ID>)",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": []
      },
      {
        "id": "2",
        "title": "Create /multi-workflow command",
        "description": "Implement the meta-orchestration command that coordinates Codex (backend) + Gemini (frontend) + Claude (orchestrator) for full-stack collaborative development with parallel model execution.",
        "details": "Create `.claude/commands/multi-workflow.md` based on ECC's multi-workflow.md source.\n\nKey implementation details:\n\n1. **Phase structure** (6 phases like multi-backend/multi-frontend):\n   - Research: Gather context from codebase, identify backend vs frontend scope\n   - Ideation: Parallel calls to Codex (backend analysis) + Gemini (frontend analysis)\n   - Plan: Synthesize both perspectives into unified plan\n   - Execute: Parallel implementation with work division\n   - Optimize: Parallel reviews from both models\n   - Review: Claude synthesizes final quality check\n\n2. **Parallel execution pattern**:\n```markdown\n### Parallel Model Calls\n\nUse `run_in_background: true` for parallel calls:\n\nBash({\n  command: \"~/.claude/bin/codeagent-wrapper {{LITE_MODE_FLAG}}--backend codex - \\\"$PWD\\\" <<'EOF'\n  ...\n  EOF\",\n  run_in_background: true,\n  timeout: 3600000,\n  description: \"Codex backend analysis\"\n})\n\nBash({\n  command: \"~/.claude/bin/codeagent-wrapper {{LITE_MODE_FLAG}}--backend gemini --gemini-model gemini-3-pro-preview - \\\"$PWD\\\" <<'EOF'\n  ...\n  EOF\",\n  run_in_background: true,\n  timeout: 3600000,\n  description: \"Gemini frontend analysis\"\n})\n\n# Wait for both with TaskOutput\nTaskOutput({ task_id: \"<codex_task_id>\", block: true, timeout: 600000 })\nTaskOutput({ task_id: \"<gemini_task_id>\", block: true, timeout: 600000 })\n```\n\n3. **Work division criteria**:\n   - Backend (Codex): API endpoints, database, business logic, authentication\n   - Frontend (Gemini): Components, styles, UX, accessibility, responsiveness\n   - Claude: Integration points, shared types/interfaces, orchestration\n\n4. **Plan storage**: Save to `.claude/plan/multi-workflow-TIMESTAMP.md`\n\n5. **Quality gates**: Requirement completeness scoring at each phase (>=7 to proceed)",
        "testStrategy": "1. File exists at `.claude/commands/multi-workflow.md`\n2. Contains parallel execution pattern with run_in_background\n3. TaskOutput waiting syntax with 600000ms timeout documented\n4. 6-phase workflow labels present\n5. Work division criteria for backend vs frontend documented\n6. Plan save location specified",
        "priority": "high",
        "dependencies": [
          "1"
        ],
        "status": "done",
        "subtasks": [
          {
            "id": 1,
            "title": "Create multi-workflow.md file with header and role specification",
            "description": "Create the base `.claude/commands/multi-workflow.md` file with proper header structure, usage documentation, and role specification establishing Claude as the Full-Stack Orchestrator coordinating Codex (backend authority) + Gemini (frontend authority).",
            "dependencies": [],
            "details": "Create the file at `.claude/commands/multi-workflow.md` with:\n1. Header: `# Multi-Workflow - Full-Stack Multi-Model Development`\n2. Description: Full-stack workflow (Research â†’ Ideation â†’ Plan â†’ Execute â†’ Optimize â†’ Review), with parallel Codex + Gemini execution\n3. Usage section: `/multi-workflow <full-stack task description>`\n4. Context section: Full-stack task: $ARGUMENTS, Codex-led backend, Gemini-led frontend, Claude orchestrator\n5. Your Role section defining Claude as Full-Stack Orchestrator with:\n   - **Codex** â€“ Backend authority (API, database, business logic)\n   - **Gemini** â€“ Frontend authority (components, styles, UX)\n   - **Claude (self)** â€“ Orchestration, integration points, shared types, final delivery",
            "status": "pending",
            "testStrategy": "Verify file exists at `.claude/commands/multi-workflow.md`, contains proper header, usage syntax with $ARGUMENTS, and three-model role specification with clear authority domains.",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Add Multi-Model Call Specification section with parallel execution pattern",
            "description": "Add the Multi-Model Call Specification section documenting the codeagent-wrapper call syntax for both Codex and Gemini backends, including the parallel execution pattern using `run_in_background: true` and TaskOutput waiting.",
            "dependencies": [
              1
            ],
            "details": "Add section following existing patterns from multi-backend.md/multi-frontend.md but with PARALLEL execution:\n\n1. **Call Syntax for Codex** (new session and resume patterns)\n2. **Call Syntax for Gemini** with `--backend gemini --gemini-model gemini-3-pro-preview`\n3. **Parallel Call Pattern**:\n```\nBash({\n  command: \"~/.claude/bin/codeagent-wrapper {{LITE_MODE_FLAG}}--backend codex - \\\"$PWD\\\" <<'EOF'\\n...\\nEOF\",\n  run_in_background: true,\n  timeout: 3600000,\n  description: \"Codex backend analysis\"\n})\n\nBash({\n  command: \"~/.claude/bin/codeagent-wrapper {{LITE_MODE_FLAG}}--backend gemini --gemini-model gemini-3-pro-preview - \\\"$PWD\\\" <<'EOF'\\n...\\nEOF\",\n  run_in_background: true,\n  timeout: 3600000,\n  description: \"Gemini frontend analysis\"\n})\n\n# Wait for both with TaskOutput\nTaskOutput({ task_id: \"<codex_task_id>\", block: true, timeout: 600000 })\nTaskOutput({ task_id: \"<gemini_task_id>\", block: true, timeout: 600000 })\n```\n4. Role prompts table for both Codex and Gemini (analyzer, architect, reviewer paths)\n5. Session reuse documentation for `CODEX_SESSION` and `GEMINI_SESSION`",
            "status": "pending",
            "testStrategy": "Verify parallel execution pattern includes run_in_background: true for both Codex and Gemini calls, TaskOutput waiting with 600000ms timeout is documented, and session resume syntax for both backends is present.",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Implement 6-phase workflow with work division criteria",
            "description": "Add the Communication Guidelines and Core Workflow sections implementing all 6 phases (Research â†’ Ideation â†’ Plan â†’ Execute â†’ Optimize â†’ Review) with clear work division criteria between backend (Codex), frontend (Gemini), and integration (Claude).",
            "dependencies": [
              2
            ],
            "details": "Add sections:\n\n**Communication Guidelines**: Mode labels, strict sequence, AskUserQuestion usage\n\n**Core Workflow**:\n\n**Phase 0: Prompt Enhancement** - Optional ace-tool MCP integration\n\n**Phase 1: Research** `[Mode: Research]`\n- Gather context, identify backend vs frontend scope\n- Code retrieval (if ace-tool available)\n- Requirement completeness score (>=7 to proceed)\n\n**Phase 2: Ideation** `[Mode: Ideation]`\n- PARALLEL calls to Codex (backend analysis) + Gemini (frontend analysis)\n- Save `CODEX_SESSION` and `GEMINI_SESSION`\n- Synthesize both perspectives, present combined solutions\n\n**Phase 3: Planning** `[Mode: Plan]`\n- Resume both sessions with user's selected solution\n- Claude synthesizes unified plan with work division:\n  - **Backend (Codex)**: API endpoints, database, business logic, authentication\n  - **Frontend (Gemini)**: Components, styles, UX, accessibility, responsiveness\n  - **Claude**: Integration points, shared types/interfaces, orchestration\n- Save plan to `.claude/plan/multi-workflow-TIMESTAMP.md`\n\n**Phase 4: Implementation** `[Mode: Execute]`\n- Follow approved plan with work division\n- Backend first, then frontend, then integration\n\n**Phase 5: Optimization** `[Mode: Optimize]`\n- PARALLEL reviews from Codex (backend code) + Gemini (frontend code)\n- Integrate feedback after user confirmation\n\n**Phase 6: Quality Review** `[Mode: Review]`\n- Claude synthesizes final quality check\n- Verify backend-frontend integration\n- Report issues and recommendations",
            "status": "pending",
            "testStrategy": "Verify all 6 phases have mode labels, Phase 2 and Phase 5 show parallel model calls, work division criteria clearly separates backend/frontend/integration domains, and plan save location uses `.claude/plan/multi-workflow-TIMESTAMP.md` format.",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Add Key Rules and quality gates section",
            "description": "Add the Key Rules section establishing trust hierarchies for each domain, filesystem access restrictions, and quality gates with requirement completeness scoring (>=7 to proceed).",
            "dependencies": [
              3
            ],
            "details": "Add final sections:\n\n**Quality Gates**:\n- Requirement completeness scoring at each phase transition\n- Score 0-10, >=7 to proceed, <7 stop and request clarification\n- Track completeness for: Backend requirements, Frontend requirements, Integration requirements\n\n**Key Rules**:\n1. **Codex backend opinions are trustworthy** for API, database, business logic\n2. **Gemini frontend opinions are trustworthy** for UI, UX, components, styling\n3. **Backend authority does NOT extend to frontend** (and vice versa)\n4. External models have **zero filesystem write access**\n5. Claude handles all code writes, file operations, and integration decisions\n6. Claude resolves conflicts between Codex and Gemini recommendations\n7. Integration points (shared types, API contracts) are Claude's domain\n\n**Work Division Criteria Table**:\n| Domain | Authority | Scope |\n|--------|-----------|-------|\n| API endpoints, database, business logic, auth | Codex | Backend |\n| Components, styles, UX, a11y, responsiveness | Gemini | Frontend |\n| Shared types, interfaces, API contracts, integration | Claude | Orchestration |",
            "status": "pending",
            "testStrategy": "Verify quality gates section includes >=7 threshold, Key Rules section has clear trust hierarchy per domain, work division table is present, and filesystem access restrictions are documented.",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Validate complete command file and test integration",
            "description": "Final validation of the complete multi-workflow.md file ensuring all patterns match existing multi-backend.md/multi-frontend.md conventions, parallel execution is correctly documented, and the command integrates properly with the slash command system.",
            "dependencies": [
              4
            ],
            "details": "Validation checklist:\n\n1. **File structure validation**:\n   - File exists at `.claude/commands/multi-workflow.md`\n   - Follows same structure as multi-backend.md/multi-frontend.md\n\n2. **Parallel execution validation**:\n   - `run_in_background: true` present for parallel calls\n   - TaskOutput waiting syntax with 600000ms timeout\n   - Both Codex and Gemini call patterns documented\n\n3. **Workflow validation**:\n   - 6 phase labels present (Research, Ideation, Plan, Execute, Optimize, Review)\n   - Mode labels match `[Mode: X]` format\n   - Quality gates (>=7 threshold) documented\n\n4. **Work division validation**:\n   - Backend vs Frontend criteria clearly documented\n   - Integration/orchestration scope for Claude defined\n\n5. **Plan storage validation**:\n   - Save location `.claude/plan/multi-workflow-TIMESTAMP.md` documented\n\n6. **Consistency check**:\n   - Compare with multi-backend.md and multi-frontend.md for pattern consistency\n   - Verify codeagent-wrapper syntax matches existing commands\n   - Confirm {{LITE_MODE_FLAG}} placeholder is used",
            "status": "pending",
            "testStrategy": "Run comprehensive file validation: check file exists, contains all 6 phases, has parallel execution with run_in_background: true, TaskOutput 600000ms timeout, work division criteria, quality gates >=7 threshold, and plan save location. Compare structure against multi-backend.md for consistency.",
            "parentId": "undefined"
          }
        ],
        "updatedAt": "2026-02-18T22:13:23.956Z"
      },
      {
        "id": "3",
        "title": "Create strategic-compact skill SKILL.md",
        "description": "Create the strategic-compact skill that documents tactical compaction patterns and decision guides for when to manually /compact during workflow transitions.",
        "details": "Create `.claude/skills/strategic-compact/SKILL.md` based on ECC's strategic-compact skill.\n\nThis skill complements our existing `context-management.md` rule by providing actionable tactical patterns vs the rule's theory.\n\nSkill content structure:\n\n```yaml\n---\nname: strategic-compact\ndescription: Tactical compaction patterns with suggest-compact hook\n---\n```\n\n1. **Compaction Decision Guide Table**:\n| Phase Transition | Compact? | Rationale |\n|-----------------|----------|----------|\n| Research â†’ Implementation | YES | Exploration context no longer needed |\n| Mid-implementation | NO | Preserves variable names, file paths |\n| Feature complete â†’ next feature | YES | Fresh context for new work |\n| Debugging â†’ fixed | YES | Debug traces are noise |\n| Planning â†’ building | CONSIDER | If plan is persisted to file |\n| After major milestone | YES | Natural breakpoint |\n\n2. **What Survives Compaction**:\n- CLAUDE.md, rules, MCP definitions\n- Git state, Task Master tasks\n- Files on disk (can re-read)\n- Session summaries in .claude/sessions/\n\n3. **What's Lost**:\n- Conversation history and reasoning chains\n- Previously read file contents\n- Intermediate exploration findings\n\n4. **Hook Integration**:\n- Reference existing `.claude/hooks/suggest-compact.sh`\n- Thresholds: 50 (reminder), 75 (note), 100 (strong suggestion)\n- Hook is advisory, not blocking\n\n5. **Manual Trigger Patterns**:\n```\n- Before risky refactoring: /compact to preserve clean state\n- After completing sub-agent research: /compact to clear exploration\n- When Claude contradicts itself: Fresh session better than compact\n```",
        "testStrategy": "1. File exists at `.claude/skills/strategic-compact/SKILL.md`\n2. YAML frontmatter with correct name and description\n3. Decision guide table covers all common phase transitions\n4. Survives/Lost sections match context-management.md\n5. Hook integration references suggest-compact.sh\n6. Manual trigger patterns documented",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [
          {
            "id": 1,
            "title": "Create strategic-compact skill directory and YAML frontmatter",
            "description": "Create the `.claude/skills/strategic-compact/` directory structure and initialize SKILL.md with the proper YAML frontmatter following the established pattern from other skills.",
            "dependencies": [],
            "details": "Create directory `.claude/skills/strategic-compact/` and initialize SKILL.md with:\n\n```yaml\n---\nname: strategic-compact\ndescription: Tactical compaction patterns with suggest-compact hook\n---\n```\n\nAdd the main heading `# Strategic Compact Skill` and an introductory paragraph explaining that this skill complements context-management.md rule by providing actionable tactical patterns versus theory. Follow the exact formatting pattern used in `.claude/skills/verification-loop/SKILL.md` and `.claude/skills/tdd-workflow/SKILL.md`.",
            "status": "pending",
            "testStrategy": "1. Verify file exists at `.claude/skills/strategic-compact/SKILL.md`\n2. Validate YAML frontmatter with `name: strategic-compact` and correct description\n3. Confirm skill follows same structure as existing skills (debugging, verification-loop, tdd-workflow)",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Add compaction decision guide table for phase transitions",
            "description": "Create the comprehensive phase transition decision table that guides when to compact versus when to preserve context, covering all common workflow phase transitions.",
            "dependencies": [
              1
            ],
            "details": "Add section `## Compaction Decision Guide` with a markdown table:\n\n| Phase Transition | Compact? | Rationale |\n|-----------------|----------|----------|\n| Research â†’ Implementation | YES | Exploration context no longer needed |\n| Mid-implementation | NO | Preserves variable names, file paths |\n| Feature complete â†’ next feature | YES | Fresh context for new work |\n| Debugging â†’ fixed | YES | Debug traces are noise |\n| Planning â†’ building | CONSIDER | If plan is persisted to file |\n| After major milestone | YES | Natural breakpoint |\n| Sub-agent research completed | YES | Agent findings should be in files |\n| Quality symptoms appearing | CONSIDER | Or start fresh session |\n\nInclude brief explanation that 'CONSIDER' means evaluate based on whether context is persisted to files. Reference the decision table in context-management.md for consistency.",
            "status": "pending",
            "testStrategy": "1. Table contains all 6+ phase transitions from PRD\n2. Each row has Phase Transition, Compact?, and Rationale columns\n3. Content aligns with existing context-management.md guidance\n4. Markdown renders correctly with proper column alignment",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Document what survives and what's lost during compaction",
            "description": "Create two clear sections documenting exactly what context persists through compaction and what is lost, helping users understand the implications of triggering /compact.",
            "dependencies": [
              1
            ],
            "details": "Add two sections:\n\n`## What Survives Compaction`\nBulleted list:\n- CLAUDE.md, auto-loaded rules, MCP tool definitions\n- Git state and repository information\n- Task Master tasks and current task context\n- Files on disk (can be re-read)\n- Session summaries in `.claude/sessions/` (if session-end hook enabled)\n- Pre-compaction state file (`.claude/sessions/pre-compact-state.md`)\n\n`## What's Lost During Compaction`\nBulleted list:\n- Intermediate reasoning and decision chains\n- Previously read file contents (must re-read)\n- Conversation flow and earlier exchanges\n- In-progress variable names mentioned only in conversation\n- Exploration findings not persisted to files\n\nAdd a callout: `**Rule of thumb:** If context is important, persist it before compaction triggers. Use Task Master notes, `docs/decisions/`, code comments, or `.claude/work-log.md`.`\n\nContent must match context-management.md sections exactly for consistency.",
            "status": "pending",
            "testStrategy": "1. Both sections present with clear headings\n2. Survives list matches context-management.md exactly\n3. Lost list matches context-management.md exactly\n4. Rule of thumb callout included with persistence locations",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Add hook integration section referencing suggest-compact.sh",
            "description": "Document how the strategic-compact skill integrates with the existing suggest-compact.sh hook, including threshold levels and advisory nature.",
            "dependencies": [
              1
            ],
            "details": "Add section `## Hook Integration`\n\nDocument the suggest-compact.sh hook behavior:\n\n```\nThe `suggest-compact.sh` hook provides advisory compaction reminders:\n\n| Threshold | Message Type | Recommendation |\n|-----------|-------------|----------------|\n| ~50 tool calls | Reminder | Consider compacting if quality declining |\n| ~75 tool calls | Note | Watch for quality degradation symptoms |\n| ~100 tool calls | Strong suggestion | Strongly consider compacting or fresh session |\n```\n\nKey points to include:\n- Hook is advisory, not blocking (hook runs on UserPromptSubmit)\n- Counter stored in `.claude/sessions/compact-state.tmp`\n- Counter resets on session end (session-end.sh)\n- User/Claude decides whether to act on suggestions\n- Quality symptoms matter more than raw counts\n\nReference the actual hook file at `.claude/hooks/suggest-compact.sh`.",
            "status": "pending",
            "testStrategy": "1. Hook integration section present\n2. Threshold table matches suggest-compact.sh values (50, 75, 100)\n3. Advisory nature emphasized\n4. State file location documented correctly\n5. References suggest-compact.sh by correct path",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Add manual trigger patterns and tactical examples",
            "description": "Document specific tactical patterns for when to manually trigger /compact, including before/after scenarios and when to prefer fresh sessions over compaction.",
            "dependencies": [
              1,
              2,
              3,
              4
            ],
            "details": "Add section `## Manual Trigger Patterns`\n\nProvide tactical examples with code blocks:\n\n```\n**Before risky refactoring:**\n/compact  # Preserve clean state before making sweeping changes\n\n**After completing sub-agent research:**\n/compact  # Clear exploration context, keep findings in files\n\n**When transitioning from research to implementation:**\n/compact  # Exploration context is noise for implementation\n\n**After debugging session resolved:**\n/compact  # Debug traces and hypothesis testing no longer needed\n```\n\nAdd section `## When Fresh Session is Better Than Compaction`:\n- Claude is contradicting itself repeatedly\n- Quality has degraded significantly\n- Switching to completely unrelated task\n- After completing major milestone (natural breakpoint)\n- Conversation has become circular\n\nInclude quick reference tree matching style in context-management.md:\n```\nShould I /compact?\nâ”œâ”€â–º Just finished research/exploration â†’ YES\nâ”œâ”€â–º Mid-implementation â†’ NO (keep context)\nâ”œâ”€â–º Feature complete â†’ YES (fresh slate)\nâ”œâ”€â–º Claude contradicting itself â†’ Fresh session instead\nâ””â”€â–º Not sure â†’ Check for quality symptoms first\n```",
            "status": "pending",
            "testStrategy": "1. Manual trigger patterns section present with 4+ examples\n2. Fresh session vs compact section included with 5+ scenarios\n3. Quick reference decision tree matches context-management.md style\n4. Code blocks formatted correctly\n5. Content is actionable and specific, not theoretical",
            "parentId": "undefined"
          }
        ],
        "updatedAt": "2026-02-18T22:14:57.321Z"
      },
      {
        "id": "4",
        "title": "Verify and enhance suggest-compact.sh hook",
        "description": "Compare existing suggest-compact.sh hook against ECC's implementation and enhance if needed. Ensure configurable thresholds and proper advisory messaging.",
        "details": "The hook already exists at `.claude/hooks/suggest-compact.sh`. Compare against ECC's version and enhance.\n\nCurrent implementation analysis:\n- Uses SESSIONS_DIR for state storage\n- Tracks tool calls via counter file\n- Thresholds at 50, 75, 100\n- Advisory messaging (not blocking)\n\nEnhancements to consider from ECC:\n\n1. **Configurable thresholds** via environment variables:\n```bash\nTHRESHOLD_FIRST=${COMPACT_THRESHOLD_FIRST:-50}\nTHRESHOLD_SECOND=${COMPACT_THRESHOLD_SECOND:-75}\nTHRESHOLD_THIRD=${COMPACT_THRESHOLD_THIRD:-100}\n```\n\n2. **Phase transition detection** (optional, if ECC has it):\n```bash\n# Detect if we just completed a major phase\n# Could check for recent commit, file creation patterns, etc.\n```\n\n3. **Better messaging format** (consistent with other hooks):\n```bash\nif [ \"$TOOL_CALLS\" -eq $THRESHOLD_FIRST ]; then\n    echo \"ğŸ’¡ [suggest-compact] ~$TOOL_CALLS tool calls. Quality declining? Consider /compact or fresh session.\"\nfi\n```\n\n4. **Reset mechanism documentation**:\nEnsure the hook documents how counter resets (on session end or when state file is deleted).\n\nIf ECC's version has additional features, adopt them. If ours is functionally equivalent, document the comparison.",
        "testStrategy": "1. Hook exists and is executable\n2. Thresholds are configurable via environment variables\n3. Messages are advisory (not blocking)\n4. Counter increments correctly\n5. State persists in .claude/sessions/compact-state.tmp",
        "priority": "medium",
        "dependencies": [
          "3"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:15:40.515Z"
      },
      {
        "id": "5",
        "title": "Create comprehensive django-patterns skill",
        "description": "Replace the thin python-django skill with ECC's comprehensive django-patterns skill covering project structure, split settings, ORM optimization, custom managers, DRF patterns, service layer, caching, signals, and middleware.",
        "details": "Create `.claude/skills/django-patterns/SKILL.md` based on ECC's comprehensive implementation.\n\nNote: We have an existing `.claude/skills/python-django/SKILL.md` that covers basic patterns. The new django-patterns skill should be MORE comprehensive. Decision: Keep python-django as-is (it's in our additions list) and add django-patterns as a deeper reference.\n\nSkill content structure:\n\n```yaml\n---\nname: django-patterns\ndescription: Comprehensive Django development patterns - ORM, DRF, caching, signals, middleware\n---\n```\n\n1. **Project Structure**:\n```\nproject/\nâ”œâ”€â”€ config/              # Settings module\nâ”‚   â”œâ”€â”€ settings/\nâ”‚   â”‚   â”œâ”€â”€ base.py\nâ”‚   â”‚   â”œâ”€â”€ development.py\nâ”‚   â”‚   â””â”€â”€ production.py\nâ”œâ”€â”€ apps/\nâ”‚   â”œâ”€â”€ users/\nâ”‚   â”œâ”€â”€ orders/\nâ”œâ”€â”€ core/               # Shared utilities\nâ””â”€â”€ manage.py\n```\n\n2. **Split Settings Pattern**:\n```python\n# config/settings/base.py\nfrom pathlib import Path\nBASE_DIR = Path(__file__).resolve().parent.parent.parent\n\n# config/settings/development.py\nfrom .base import *\nDEBUG = True\n```\n\n3. **Model Best Practices**:\n- Abstract base models for timestamps\n- Custom QuerySet and Manager patterns\n- `get_absolute_url()` convention\n\n4. **Custom QuerySet/Manager**:\n```python\nclass OrderQuerySet(models.QuerySet):\n    def pending(self):\n        return self.filter(status='pending')\n    \n    def for_user(self, user):\n        return self.filter(customer=user)\n\nclass Order(models.Model):\n    objects = OrderQuerySet.as_manager()\n```\n\n5. **DRF Serializers with Nested Writes**:\n```python\nclass OrderSerializer(serializers.ModelSerializer):\n    items = OrderItemSerializer(many=True)\n    \n    def create(self, validated_data):\n        items_data = validated_data.pop('items')\n        order = Order.objects.create(**validated_data)\n        for item in items_data:\n            OrderItem.objects.create(order=order, **item)\n        return order\n```\n\n6. **Service Layer Pattern**:\n```python\n# services/orders.py\nclass OrderService:\n    @staticmethod\n    def create_order(user, items):\n        with transaction.atomic():\n            order = Order.objects.create(customer=user)\n            # Business logic here\n            return order\n```\n\n7. **Caching Strategies**:\n- Per-view caching with `@cache_page`\n- Template fragment caching\n- Low-level cache API for complex queries\n\n8. **Signals Best Practices** (when to use/avoid)\n\n9. **Middleware Patterns** (request/response lifecycle)\n\n10. **N+1 Prevention** (deeper than python-django's coverage)",
        "testStrategy": "1. File exists at `.claude/skills/django-patterns/SKILL.md`\n2. YAML frontmatter present\n3. All 10 sections documented with code examples\n4. Custom QuerySet/Manager pattern included\n5. Service layer pattern with transaction.atomic\n6. Caching strategies cover multiple approaches\n7. More comprehensive than existing python-django skill",
        "priority": "high",
        "dependencies": [],
        "status": "done",
        "subtasks": [
          {
            "id": 1,
            "title": "Create django-patterns skill directory with YAML frontmatter",
            "description": "Create the `.claude/skills/django-patterns/` directory and initialize `SKILL.md` with proper YAML frontmatter including name and description fields.",
            "dependencies": [],
            "details": "Create new directory at `.claude/skills/django-patterns/` and initialize `SKILL.md` file with YAML frontmatter:\n\n```yaml\n---\nname: django-patterns\ndescription: Comprehensive Django development patterns - ORM, DRF, caching, signals, middleware\n---\n```\n\nFollowed by the main heading `# Django Patterns Skill` and a brief overview explaining this skill provides comprehensive Django patterns beyond basic usage, covering project structure, split settings, advanced ORM patterns, DRF best practices, service layer, caching, signals, and middleware.",
            "status": "pending",
            "testStrategy": "Verify file exists at `.claude/skills/django-patterns/SKILL.md` and YAML frontmatter parses correctly with `name: django-patterns` and appropriate description.",
            "parentId": "undefined"
          },
          {
            "id": 2,
            "title": "Document project structure and split settings patterns",
            "description": "Add comprehensive sections covering recommended Django project structure with apps layout and the split settings pattern for multi-environment configuration.",
            "dependencies": [
              1
            ],
            "details": "Add two major sections to SKILL.md:\n\n**1. Project Structure Section:**\n```\nproject/\nâ”œâ”€â”€ config/              # Settings module\nâ”‚   â”œâ”€â”€ settings/\nâ”‚   â”‚   â”œâ”€â”€ base.py\nâ”‚   â”‚   â”œâ”€â”€ development.py\nâ”‚   â”‚   â””â”€â”€ production.py\nâ”œâ”€â”€ apps/\nâ”‚   â”œâ”€â”€ users/\nâ”‚   â”œâ”€â”€ orders/\nâ”œâ”€â”€ core/               # Shared utilities\nâ””â”€â”€ manage.py\n```\n\n**2. Split Settings Pattern:**\n- Base settings with `from pathlib import Path` and common configuration\n- Development settings inheriting from base with DEBUG=True\n- Production settings with security hardening\n- Environment-specific database configurations\n- Example: `DJANGO_SETTINGS_MODULE = \"config.settings.production\"`",
            "status": "pending",
            "testStrategy": "Verify both sections exist with code examples, project tree diagram is properly formatted, and split settings shows inheritance pattern with `from .base import *`.",
            "parentId": "undefined"
          },
          {
            "id": 3,
            "title": "Add custom QuerySet, Manager, and model best practices",
            "description": "Document advanced ORM patterns including custom QuerySet classes, Manager patterns, abstract base models, and model conventions like `get_absolute_url()`.",
            "dependencies": [
              1
            ],
            "details": "Add sections covering:\n\n**1. Model Best Practices:**\n- Abstract base model for timestamps (created_at, updated_at)\n- `get_absolute_url()` convention for URL generation\n- Proper `__str__` representation\n\n**2. Custom QuerySet/Manager Pattern:**\n```python\nclass OrderQuerySet(models.QuerySet):\n    def pending(self):\n        return self.filter(status='pending')\n    \n    def for_user(self, user):\n        return self.filter(customer=user)\n\nclass Order(models.Model):\n    objects = OrderQuerySet.as_manager()\n```\n\n**3. Chaining Examples:** Show how `Order.objects.pending().for_user(user)` works and when to use Manager vs QuerySet patterns.",
            "status": "pending",
            "testStrategy": "Verify custom QuerySet pattern uses `as_manager()` method, includes at least two filter methods, and shows method chaining example in usage section.",
            "parentId": "undefined"
          },
          {
            "id": 4,
            "title": "Document DRF patterns, service layer, and caching strategies",
            "description": "Add comprehensive sections for DRF serializers with nested writes, service layer pattern with transaction.atomic, and multi-tier caching strategies.",
            "dependencies": [
              1
            ],
            "details": "Add three major sections:\n\n**1. DRF Serializers with Nested Writes:**\n```python\nclass OrderSerializer(serializers.ModelSerializer):\n    items = OrderItemSerializer(many=True)\n    \n    def create(self, validated_data):\n        items_data = validated_data.pop('items')\n        order = Order.objects.create(**validated_data)\n        for item in items_data:\n            OrderItem.objects.create(order=order, **item)\n        return order\n```\n\n**2. Service Layer Pattern:**\n```python\nclass OrderService:\n    @staticmethod\n    def create_order(user, items):\n        with transaction.atomic():\n            order = Order.objects.create(customer=user)\n            # Business logic here\n            return order\n```\n\n**3. Caching Strategies:**\n- Per-view caching with `@cache_page`\n- Template fragment caching with `{% cache %}`\n- Low-level cache API for complex queries\n- Cache invalidation patterns",
            "status": "pending",
            "testStrategy": "Verify DRF nested writes shows `validated_data.pop()` pattern, service layer uses `transaction.atomic()`, and caching covers at least three approaches (view, template, low-level).",
            "parentId": "undefined"
          },
          {
            "id": 5,
            "title": "Add signals best practices, middleware patterns, and N+1 prevention",
            "description": "Complete the skill with comprehensive signals guidance (when to use/avoid), middleware request/response lifecycle, and deep N+1 prevention patterns beyond basic `select_related`.",
            "dependencies": [
              1,
              2,
              3,
              4
            ],
            "details": "Add final sections:\n\n**1. Signals Best Practices:**\n- When to use: cross-app notifications, audit logging, cache invalidation\n- When to avoid: same-app logic, complex business logic, transaction-dependent operations\n- Pattern: `@receiver(post_save, sender=Model)`\n\n**2. Middleware Patterns:**\n- Request/response lifecycle diagram\n- Order of execution (top-to-bottom request, bottom-to-top response)\n- Custom middleware skeleton with `__init__`, `__call__`, `process_exception`\n\n**3. N+1 Prevention (Deep Coverage):**\n- Beyond basic `select_related`/`prefetch_related`\n- `Prefetch` object for complex prefetch queries\n- Using `assertNumQueries` in tests\n- Django Debug Toolbar for detection\n- Common pitfalls: prefetch invalidation after filter()",
            "status": "pending",
            "testStrategy": "1. Signals section includes when-to-use and when-to-avoid guidance\n2. Middleware shows request/response lifecycle\n3. N+1 section is MORE comprehensive than python-django's coverage (includes Prefetch object, assertNumQueries, Debug Toolbar)\n4. All 10 sections from PRD are documented with code examples",
            "parentId": "undefined"
          }
        ],
        "updatedAt": "2026-02-18T22:17:44.354Z"
      },
      {
        "id": "6",
        "title": "Update ECC_COMPARISON.md with implemented gaps",
        "description": "Update docs/ECC_COMPARISON.md to move implemented Phase 1 items from 'gaps' to 'matched' sections and update summary counts.",
        "details": "After all components are implemented, update the comparison document:\n\n1. **Update Summary Table**:\n- Commands: Update ECC-only Gaps count (was 5, should reflect closed gaps)\n- Skills: Update gap count (was 14)\n\n2. **Move to Matched Commands**:\n- /multi-backend âœ“\n- /multi-frontend âœ“\n- /multi-workflow âœ“\n\n3. **Move to Matched Skills**:\n- strategic-compact âœ“\n- django-patterns âœ“\n\n4. **Update Implementation Priority Queue**:\n- Phase 1 items marked complete with date\n- Note any adaptations from ECC source\n\n5. **Add to Decisions Log** if any adaptations were made:\n```markdown\n### Adopted ECC's Implementation (Phase 1 Gap Closure)\n\n| Component | Adaptation | Why |\n|-----------|-----------|-----|\n| /multi-workflow | Renamed from /workflow | Naming consistency with multi-* pattern |\n| strategic-compact | Integrated with existing suggest-compact.sh | Our hook was already bash-based |\n| django-patterns | Added alongside python-django | python-django is lightweight, django-patterns is comprehensive |\n```",
        "testStrategy": "1. Summary table counts updated\n2. Command gaps reduced by 3\n3. Skill gaps reduced by 2\n4. Implementation priority queue shows Phase 1 complete\n5. Decisions log documents any adaptations",
        "priority": "medium",
        "dependencies": [
          "2",
          "3",
          "4",
          "5"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:19:11.899Z"
      },
      {
        "id": "7",
        "title": "Update CLAUDE.md slash commands table",
        "description": "Add the new /multi-workflow command to the slash commands table in CLAUDE.md.",
        "details": "Update CLAUDE.md's Slash Commands table to include:\n\n```markdown\n| `/multi-workflow` | Full-stack multi-model workflow (Codex backend + Gemini frontend + Claude orchestrator) |\n```\n\nPlace it near the existing multi-* commands:\n- /multi-plan\n- /multi-execute\n- /multi-backend (already listed)\n- /multi-frontend (already listed)\n- /multi-workflow (new)\n\nThe table should remain alphabetically or grouped by category. If grouped, these belong in the \"Multi-Model\" or \"Orchestration\" category.",
        "testStrategy": "1. /multi-workflow appears in CLAUDE.md slash commands table\n2. Description is accurate and concise\n3. Grouped with related multi-* commands\n4. Table formatting is consistent",
        "priority": "medium",
        "dependencies": [
          "2"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:19:46.346Z"
      },
      {
        "id": "8",
        "title": "Update TEMPLATE_OVERVIEW.md skill/command counts",
        "description": "Update TEMPLATE_OVERVIEW.md to reflect the new skill and command counts after Phase 1 gap closure.",
        "details": "After implementation, update TEMPLATE_OVERVIEW.md:\n\n1. Locate the stats section showing skill/command counts\n2. Increment counts:\n   - Commands: +1 (multi-workflow)\n   - Skills: +2 (strategic-compact, django-patterns)\n\n3. Update any feature list sections that enumerate capabilities\n\n4. If there's a version or changelog section, note the Phase 1 gap closure\n\nPseudo-code:\n```bash\n# Find and update counts in TEMPLATE_OVERVIEW.md\ngrep -n \"commands\\|skills\" TEMPLATE_OVERVIEW.md\n# Update the numbers found\n```",
        "testStrategy": "1. Command count incremented correctly\n2. Skill count incremented correctly\n3. No stale counts remain\n4. File is valid markdown",
        "priority": "low",
        "dependencies": [
          "6"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:20:51.733Z"
      },
      {
        "id": "9",
        "title": "Create conventional commits for all changes",
        "description": "Create individual conventional commits for each component following the commit message format. One commit per new file/feature.",
        "details": "Commit strategy:\n\n1. **Commit 1**: multi-workflow command\n```bash\ngit add .claude/commands/multi-workflow.md\ngit commit -m \"feat: Add /multi-workflow command from ECC\n\nMeta-orchestration for full-stack development with Codex (backend),\nGemini (frontend), and Claude (orchestrator). Includes parallel\nmodel execution and quality gates.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\"\n```\n\n2. **Commit 2**: strategic-compact skill\n```bash\ngit add .claude/skills/strategic-compact/\ngit add .claude/hooks/suggest-compact.sh  # if modified\ngit commit -m \"feat: Add strategic-compact skill from ECC\n\nTactical compaction patterns and decision guide. Complements\nexisting context-management rule with actionable patterns.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\"\n```\n\n3. **Commit 3**: django-patterns skill\n```bash\ngit add .claude/skills/django-patterns/\ngit commit -m \"feat: Add django-patterns skill from ECC\n\nComprehensive Django patterns: project structure, split settings,\ncustom managers, DRF, service layer, caching, signals, middleware.\nCompletes Django coverage alongside django-security/tdd/verification.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\"\n```\n\n4. **Commit 4**: Documentation updates\n```bash\ngit add docs/ECC_COMPARISON.md CLAUDE.md TEMPLATE_OVERVIEW.md\ngit commit -m \"docs: Update docs for ECC Gap Phase 1 closure\n\nMove implemented items from gaps to matched sections in\nECC_COMPARISON.md. Update slash commands table and counts.\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\"\n```",
        "testStrategy": "1. Each commit is atomic (one logical change)\n2. Commit messages follow conventional commit format\n3. Co-Authored-By trailer present\n4. No WIP or fixup commits in final history",
        "priority": "medium",
        "dependencies": [
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:20:56.840Z"
      },
      {
        "id": "10",
        "title": "Validate all Phase 1 components work together",
        "description": "Final validation that all implemented components integrate correctly and Claude Code recognizes the new commands and skills.",
        "details": "Validation checklist:\n\n1. **Command Recognition**:\n   - Claude Code shows /multi-workflow in command suggestions\n   - Command markdown is syntactically correct\n\n2. **Skill Loading**:\n   - Skills can be referenced in conversations\n   - YAML frontmatter parses correctly\n   - No syntax errors in skill content\n\n3. **Hook Functionality**:\n   - suggest-compact.sh executes without errors\n   - Thresholds trigger at correct counts\n\n4. **Documentation Consistency**:\n   - ECC_COMPARISON.md summary counts match actual files\n   - CLAUDE.md commands table complete\n   - No broken links or references\n\n5. **Git State**:\n   - All changes committed\n   - On feature/ecc-gap-phase1 branch\n   - Clean working tree\n\nValidation commands:\n```bash\n# Check file existence\nls -la .claude/commands/multi-workflow.md\nls -la .claude/skills/strategic-compact/SKILL.md\nls -la .claude/skills/django-patterns/SKILL.md\n\n# Validate YAML frontmatter\nhead -10 .claude/skills/*/SKILL.md\n\n# Git status\ngit status\ngit log --oneline -5\n```",
        "testStrategy": "1. All new files exist at expected paths\n2. YAML frontmatter in skills parses correctly\n3. Git status shows clean working tree\n4. Recent commits show Phase 1 work\n5. Manual test: Claude Code recognizes /multi-workflow",
        "priority": "high",
        "dependencies": [
          "9"
        ],
        "status": "done",
        "subtasks": [],
        "updatedAt": "2026-02-18T22:21:02.450Z"
      }
    ],
    "metadata": {
      "version": "1.0.0",
      "lastModified": "2026-02-18T22:21:02.451Z",
      "taskCount": 10,
      "completedCount": 10,
      "tags": [
        "ecc-gap-p1"
      ]
    }
  },
  "ecc-gap-p2": {
    "tasks": [
      {
        "id": 1,
        "title": "Enrich Python coding-standards.md with ECC security and patterns content",
        "description": "Fetch ECC's python/patterns.md, python/security.md, and python/hooks.md from the ECC GitHub repo, then merge relevant content INTO the existing .claude/rules/python/coding-standards.md file. Keep total file under ~2K tokens. Only add content not already covered by existing rules or on-demand skills.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's Python rule files from github.com/affaan-m/everything-claude-code:\n   - skills/python/patterns.md\n   - skills/python/security.md\n   - skills/python/hooks.md (if exists)\n\n2. Read existing .claude/rules/python/coding-standards.md (~400 lines, ~1.5K tokens)\n\n3. Identify content gaps - ECC content NOT already in our file or covered by skills:\n   - Security patterns (input validation, SQL injection prevention, secrets handling)\n   - Advanced patterns (metaclasses, descriptors, async context managers)\n   - Framework hooks (Django signals, FastAPI dependencies)\n\n4. Merge using sections that maintain structure:\n   ```markdown\n   ## Security Patterns\n   ### Input Validation\n   ### SQL Safety\n   ### Secrets Handling\n   \n   ## Advanced Patterns\n   ### Async Context Managers\n   ### Protocol Classes (3.8+)\n   ```\n\n5. Token budget: Current ~1.5K, target <2K after enrichment (~500 tokens to add)\n\n6. Do NOT add content that duplicates:\n   - python-testing skill\n   - python-patterns skill\n   - security-scan skill\n   - django-security skill",
        "testStrategy": "1. Verify file token count stays under 2K (use `wc -w` * 1.3 as rough estimate)\n2. Verify no duplicate content with existing skills (Grep for key phrases in .claude/skills/)\n3. Verify file still loads correctly (syntax check for YAML frontmatter)\n4. Verify paths: frontmatter still matches Python file patterns",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 2,
        "title": "Enrich TypeScript coding-standards.md with ECC security and patterns content",
        "description": "Fetch ECC's typescript/patterns.md, typescript/security.md, and typescript/hooks.md from the ECC GitHub repo, then merge relevant content INTO the existing .claude/rules/typescript/coding-standards.md file. Keep total file under ~2K tokens.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's TypeScript rule files from github.com/affaan-m/everything-claude-code:\n   - skills/typescript/patterns.md\n   - skills/typescript/security.md\n   - skills/typescript/hooks.md (if exists)\n\n2. Read existing .claude/rules/typescript/coding-standards.md (~186 lines)\n\n3. Identify content gaps - ECC content NOT already covered:\n   - Security patterns (XSS prevention in React, sanitization, CSP headers)\n   - Advanced patterns (conditional types, mapped types, template literals)\n   - React hooks patterns (useCallback, useMemo, custom hooks)\n   - Node.js patterns (if present)\n\n4. Merge using sections:\n   ```markdown\n   ## Security Patterns\n   ### XSS Prevention\n   ### Input Sanitization\n   \n   ## Advanced Type Patterns\n   ### Conditional Types\n   ### Template Literal Types\n   \n   ## React Hooks Best Practices\n   ### Dependency Arrays\n   ### Custom Hook Patterns\n   ```\n\n5. Token budget: Current ~700 tokens, target <2K after enrichment\n\n6. Do NOT add content that duplicates:\n   - typescript-patterns skill\n   - frontend-patterns skill\n   - e2e-testing skill",
        "testStrategy": "1. Verify file token count stays under 2K\n2. Verify no duplicate content with typescript-patterns and frontend-patterns skills\n3. Verify YAML frontmatter paths: still correctly matches .ts/.tsx files\n4. Syntax validation of any code examples added",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 3,
        "title": "Enrich Go coding-standards.md with ECC security and patterns content",
        "description": "Fetch ECC's golang/patterns.md, golang/security.md, and golang/hooks.md from the ECC GitHub repo, then merge relevant content INTO the existing .claude/rules/golang/coding-standards.md file. Keep total file under ~2K tokens.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's Go rule files from github.com/affaan-m/everything-claude-code:\n   - skills/golang/patterns.md\n   - skills/golang/security.md\n   - skills/golang/hooks.md (if exists)\n\n2. Read existing .claude/rules/golang/coding-standards.md (~228 lines)\n\n3. Identify content gaps - ECC content NOT already covered:\n   - Security patterns (input validation, SQL injection with database/sql, secrets)\n   - Advanced patterns (generics 1.18+, error wrapping strategies)\n   - HTTP middleware patterns\n   - Graceful shutdown patterns\n\n4. Merge using sections:\n   ```markdown\n   ## Security Patterns\n   ### SQL Parameter Binding\n   ### Input Validation\n   ### Secrets Management\n   \n   ## Generics Patterns (Go 1.18+)\n   ### Type Constraints\n   ### Generic Data Structures\n   \n   ## HTTP Middleware\n   ### Chi/Gorilla Patterns\n   ### Context Propagation\n   ```\n\n5. Token budget: Current ~850 tokens, target <2K after enrichment\n\n6. Do NOT add content that duplicates:\n   - golang-patterns skill\n   - golang-testing skill\n   - api-design skill",
        "testStrategy": "1. Verify file token count stays under 2K\n2. Verify no duplicate content with golang-patterns and golang-testing skills\n3. Verify YAML frontmatter paths: correctly matches .go files\n4. Syntax validation of Go code examples",
        "priority": "high",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 4,
        "title": "Create cpp-coding-standards skill",
        "description": "Fetch ECC's skills/cpp-coding-standards/SKILL.md and create .claude/skills/cpp-coding-standards/SKILL.md. We have cpp-testing but lack C++ coding standards, so this completes C++ language coverage.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's cpp-coding-standards skill from:\n   github.com/affaan-m/everything-claude-code/blob/main/skills/cpp-coding-standards/SKILL.md\n\n2. Create directory: .claude/skills/cpp-coding-standards/\n\n3. Adapt to our skill format:\n   ```markdown\n   ---\n   name: cpp-coding-standards\n   description: Modern C++ idioms, memory management, RAII, smart pointers, move semantics, const correctness\n   ---\n   # C++ Coding Standards Skill\n   \n   ## Modern C++ (C++17/20)\n   ### Smart Pointers\n   ### Move Semantics\n   ### std::optional and std::variant\n   \n   ## Memory Safety\n   ### RAII Pattern\n   ### Resource Ownership\n   \n   ## Const Correctness\n   ### Member Functions\n   ### References and Pointers\n   ```\n\n4. Ensure content complements cpp-testing skill (no overlap on testing patterns)\n\n5. Focus on coding standards, not testing (testing is in cpp-testing skill)",
        "testStrategy": "1. Verify skill file follows frontmatter format (name, description fields)\n2. Verify no content overlap with cpp-testing skill\n3. Verify skill loads on-demand (0 startup tokens) by checking it's not in any auto-load paths\n4. Verify code examples compile conceptually (modern C++ syntax)",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 5,
        "title": "Create cost-aware-llm-pipeline skill",
        "description": "Fetch ECC's skills/cost-aware-llm-pipeline/SKILL.md and create .claude/skills/cost-aware-llm-pipeline/SKILL.md. Covers prompt optimization, model selection/routing, caching, rate limiting, budget tracking for LLM-powered applications.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's cost-aware-llm-pipeline skill from:\n   github.com/affaan-m/everything-claude-code/blob/main/skills/cost-aware-llm-pipeline/SKILL.md\n\n2. Create directory: .claude/skills/cost-aware-llm-pipeline/\n\n3. Adapt to our skill format:\n   ```markdown\n   ---\n   name: cost-aware-llm-pipeline\n   description: Prompt optimization, model selection/routing, caching, rate limiting, budget tracking for LLM-powered applications\n   ---\n   # Cost-Aware LLM Pipeline Skill\n   \n   ## Prompt Optimization\n   ### Token Reduction Strategies\n   ### Prompt Caching\n   ### System Prompt Efficiency\n   \n   ## Model Selection & Routing\n   ### Task-to-Model Mapping\n   ### Fallback Chains\n   ### Quality vs Cost Trade-offs\n   \n   ## Caching Strategies\n   ### Semantic Caching\n   ### Response Caching\n   ### Embedding Caches\n   \n   ## Rate Limiting\n   ### Token Budgets\n   ### Request Throttling\n   ### Circuit Breakers\n   \n   ## Budget Tracking\n   ### Cost Attribution\n   ### Usage Monitoring\n   ### Alerts and Limits\n   ```\n\n4. Relevant for our AI/ML audience building LLM applications\n\n5. Complements our existing context-management.md rule (which focuses on Claude Code context, not application LLM pipelines)",
        "testStrategy": "1. Verify skill file follows frontmatter format\n2. Verify content is distinct from context-management.md rule (different scope)\n3. Verify practical code examples for Python/TypeScript LLM integrations\n4. Verify skill loads on-demand",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 6,
        "title": "Create regex-vs-llm-structured-text skill",
        "description": "Fetch ECC's skills/regex-vs-llm-structured-text/SKILL.md and create .claude/skills/regex-vs-llm-structured-text/SKILL.md. Decision framework for when to use regex vs LLM for text processing.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's regex-vs-llm-structured-text skill from:\n   github.com/affaan-m/everything-claude-code/blob/main/skills/regex-vs-llm-structured-text/SKILL.md\n\n2. Create directory: .claude/skills/regex-vs-llm-structured-text/\n\n3. Adapt to our skill format:\n   ```markdown\n   ---\n   name: regex-vs-llm-structured-text\n   description: Decision framework for when to use regex vs LLM for text processing tasks\n   ---\n   # Regex vs LLM Decision Framework\n   \n   ## When to Use Regex\n   ### Structured Formats (JSON, XML, CSV)\n   ### Known Patterns (emails, URLs, dates)\n   ### Performance-Critical Paths\n   ### Deterministic Requirements\n   \n   ## When to Use LLM\n   ### Natural Language Understanding\n   ### Ambiguous Formats\n   ### Classification Tasks\n   ### Entity Extraction from Prose\n   \n   ## Decision Matrix\n   | Characteristic | Regex | LLM |\n   |---------------|-------|-----|\n   | Structured input | âœ“ | |\n   | Ambiguous input | | âœ“ |\n   | Speed critical | âœ“ | |\n   | Semantic understanding | | âœ“ |\n   \n   ## Hybrid Approaches\n   ### Regex Pre-filtering + LLM\n   ### LLM Extraction + Regex Validation\n   ```\n\n4. Novel and practical skill for the AI/ML audience\n\n5. Include concrete code examples showing both approaches",
        "testStrategy": "1. Verify skill file follows frontmatter format\n2. Verify decision matrix is clear and actionable\n3. Verify code examples show both regex and LLM approaches\n4. Verify skill loads on-demand",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 7,
        "title": "Create springboot-verification skill",
        "description": "Fetch ECC's skills/springboot-verification/SKILL.md and create .claude/skills/springboot-verification/SKILL.md. We have django-verification but no Spring Boot equivalent, completing Java/Spring Boot coverage.",
        "details": "Implementation steps:\n\n1. WebFetch ECC's springboot-verification skill from:\n   github.com/affaan-m/everything-claude-code/blob/main/skills/springboot-verification/SKILL.md\n\n2. Create directory: .claude/skills/springboot-verification/\n\n3. Adapt to our skill format, mirroring django-verification structure:\n   ```markdown\n   ---\n   name: springboot-verification\n   description: Spring Boot health checks, actuator endpoints, configuration validation, migration verification, startup validation\n   ---\n   # Spring Boot Verification Skill\n   \n   ## Actuator Health Checks\n   ### Built-in Health Indicators\n   ### Custom Health Indicators\n   ### Readiness vs Liveness Probes\n   \n   ## Configuration Validation\n   ### @ConfigurationProperties Validation\n   ### Profile-Specific Settings\n   ### Required Properties Check\n   \n   ## Database Migration Verification\n   ### Flyway Migration Checks\n   ### Liquibase Validation\n   ### Schema Verification Tests\n   \n   ## Startup Validation\n   ### ApplicationRunner Checks\n   ### Bean Validation\n   ### Dependency Injection Verification\n   \n   ## Full Verification Pipeline\n   ```\n\n4. Complements existing spring-boot-tdd and spring-boot-security skills",
        "testStrategy": "1. Verify skill file follows frontmatter format\n2. Verify no content overlap with spring-boot-tdd or spring-boot-security skills\n3. Verify parallel structure to django-verification skill\n4. Verify Java/Kotlin code examples are syntactically correct",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 8,
        "title": "Create PR URL extraction hook",
        "description": "Implement a PostToolUse hook for Bash commands matching git push that extracts PR creation URL from output and provides review commands. Simple bash implementation in .claude/hooks/.",
        "details": "Implementation steps:\n\n1. Create .claude/hooks/pr-url-extract.sh:\n   ```bash\n   #!/bin/bash\n   # pr-url-extract.sh - Extract PR URL from git push output\n   # Hook type: PostToolUse (matcher: \"Bash\")\n   # Triggers when: After Bash command completes\n   #\n   # Extracts PR creation URLs from git push output and provides\n   # helpful review commands.\n   \n   INPUT=$(cat)\n   \n   COMMAND=$(echo \"$INPUT\" | jq -r '.tool_input.command // empty')\n   OUTPUT=$(echo \"$INPUT\" | jq -r '.output // empty')\n   \n   # Only process git push commands\n   [[ \"$COMMAND\" != *\"git push\"* ]] && exit 0\n   \n   # Extract PR URL patterns:\n   # GitHub: \"Create a pull request for 'branch' on GitHub by visiting:\"\n   # GitLab: \"To create a merge request for...\"\n   PR_URL=$(echo \"$OUTPUT\" | grep -oE 'https://github\\.com/[^/]+/[^/]+/pull/new/[^[:space:]]+' | head -1)\n   if [ -z \"$PR_URL\" ]; then\n     PR_URL=$(echo \"$OUTPUT\" | grep -oE 'https://github\\.com/[^/]+/[^/]+/compare/[^[:space:]]+' | head -1)\n   fi\n   if [ -z \"$PR_URL\" ]; then\n     PR_URL=$(echo \"$OUTPUT\" | grep -oE 'https://gitlab\\.com/[^[:space:]]+merge_requests/new[^[:space:]]*' | head -1)\n   fi\n   \n   [ -z \"$PR_URL\" ] && exit 0\n   \n   # Output helpful message\n   echo \"PR creation URL detected: $PR_URL\"\n   echo \"\"\n   echo \"Review commands:\"\n   echo \"  gh pr create --web     # Open PR creation in browser\"\n   echo \"  gh pr view --web       # View existing PR\"\n   echo \"  /pr                    # Create PR via Claude Code\"\n   \n   exit 0\n   ```\n\n2. Make executable: chmod +x .claude/hooks/pr-url-extract.sh\n\n3. Add to settings-presets.json for safe, thorough, and optimized presets",
        "testStrategy": "1. Test with mock git push output containing GitHub PR URL\n2. Test with mock git push output containing GitLab MR URL\n3. Test with git push output without PR URL (should exit silently)\n4. Verify hook exits with code 0 (advisory, never blocks)\n5. Verify settings presets include the hook",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 9,
        "title": "Create long-running command tmux reminder hook",
        "description": "Implement a PreToolUse advisory hook for Bash commands matching long-running patterns (npm install, pip install, pytest, cargo build, make, docker build). Warns user to consider tmux if not already in a tmux session.",
        "details": "Implementation steps:\n\n1. Create .claude/hooks/long-running-tmux-hint.sh:\n   ```bash\n   #!/bin/bash\n   # long-running-tmux-hint.sh - Advisory tmux reminder for long commands\n   # Hook type: PreToolUse (matcher: \"Bash\")\n   # Triggers when: Claude attempts to run a Bash command\n   #\n   # Detects potentially long-running commands and suggests tmux\n   # if not already in a tmux session. Complements dev-server-blocker.sh.\n   #\n   # Exit codes:\n   #   0 = Allow the command (advisory only, never blocks)\n   \n   INPUT=$(cat)\n   \n   COMMAND=$(echo \"$INPUT\" | jq -r '.tool_input.command // empty')\n   [ -z \"$COMMAND\" ] && exit 0\n   \n   # Already in tmux? No reminder needed.\n   [ -n \"$TMUX\" ] && exit 0\n   \n   # Detect long-running command patterns\n   IS_LONG_RUNNING=false\n   REASON=\"\"\n   case \"$COMMAND\" in\n     *\"npm install\"*|*\"npm ci\"*|*\"pnpm install\"*|*\"yarn install\"*)\n       IS_LONG_RUNNING=true; REASON=\"Package installation can take several minutes\" ;;\n     *\"pip install\"*|*\"poetry install\"*|*\"pdm install\"*)\n       IS_LONG_RUNNING=true; REASON=\"Python dependency installation can be slow\" ;;\n     *\"pytest\"*|*\"python -m pytest\"*)\n       IS_LONG_RUNNING=true; REASON=\"Test suites can run for minutes\" ;;\n     *\"cargo build\"*|*\"cargo test\"*)\n       IS_LONG_RUNNING=true; REASON=\"Rust compilation can be slow\" ;;\n     *\"make\"*|*\"cmake --build\"*)\n       IS_LONG_RUNNING=true; REASON=\"Build processes can take time\" ;;\n     *\"docker build\"*|*\"docker-compose up\"*)\n       IS_LONG_RUNNING=true; REASON=\"Container builds can be slow\" ;;\n     *\"go build\"*|*\"go test\"*)\n       IS_LONG_RUNNING=true; REASON=\"Go builds with dependencies can take time\" ;;\n   esac\n   \n   [ \"$IS_LONG_RUNNING\" = false ] && exit 0\n   \n   # Advisory message (never blocks)\n   echo \"ADVISORY: This command may take a while.\"\n   echo \"$REASON.\"\n   echo \"\"\n   echo \"Consider running in tmux for session persistence:\"\n   echo \"  tmux new-session -d '$COMMAND'\"\n   echo \"  tmux attach\"\n   echo \"\"\n   echo \"(This is just a suggestion - the command will proceed.)\"\n   \n   exit 0\n   ```\n\n2. Make executable: chmod +x .claude/hooks/long-running-tmux-hint.sh\n\n3. Add to settings-presets.json for safe, thorough, and optimized presets\n\n4. Note: Unlike dev-server-blocker.sh (exit 2 to block), this hook is advisory only (always exit 0)",
        "testStrategy": "1. Test with npm install command (should show advisory)\n2. Test with pytest command (should show advisory)\n3. Test with simple command like 'ls' (should not show advisory)\n4. Test with TMUX env var set (should not show advisory)\n5. Verify hook always exits 0 (advisory, never blocks)\n6. Verify settings presets include the hook",
        "priority": "medium",
        "dependencies": [],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 10,
        "title": "Update settings presets with new hooks",
        "description": "Add the new PR URL extraction and long-running tmux reminder hooks to the safe, thorough, and optimized presets in .claude/settings-presets.json.",
        "details": "Implementation steps:\n\n1. Read .claude/settings-presets.json\n\n2. Add PostToolUse hook for pr-url-extract.sh to safe, thorough, and optimized presets:\n   ```json\n   \"PostToolUse\": [\n     {\n       \"matcher\": \"Bash\",\n       \"hooks\": [\n         {\n           \"type\": \"command\",\n           \"command\": \"$CLAUDE_PROJECT_DIR/.claude/hooks/pr-url-extract.sh\"\n         }\n       ]\n     }\n   ]\n   ```\n\n3. Add PreToolUse hook for long-running-tmux-hint.sh to safe, thorough, and optimized presets:\n   - Must be added to existing PreToolUse array alongside pre-commit-check.sh\n   ```json\n   \"PreToolUse\": [\n     {\n       \"matcher\": \"Bash\",\n       \"hooks\": [\n         {\n           \"type\": \"command\",\n           \"command\": \"$CLAUDE_PROJECT_DIR/.claude/hooks/long-running-tmux-hint.sh\"\n         }\n       ]\n     }\n   ]\n   ```\n\n4. Ensure hooks are in correct order:\n   - PreToolUse: protect-sensitive-files, pre-commit-check, long-running-tmux-hint\n   - PostToolUse: pr-url-extract",
        "testStrategy": "1. Validate JSON syntax of settings-presets.json\n2. Verify hooks are in all three presets (safe, thorough, optimized)\n3. Verify hook paths use $CLAUDE_PROJECT_DIR variable\n4. Test /settings safe and verify hooks are applied",
        "priority": "medium",
        "dependencies": [
          8,
          9
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 11,
        "title": "Update ECC_COMPARISON.md with Phase 2 completion",
        "description": "Update docs/ECC_COMPARISON.md to mark Phase 2 items as DONE, update summary counts, and adjust the implementation priority queue.",
        "details": "Implementation steps:\n\n1. Update Summary table:\n   - Skills: Update count from 35 to 39 (adding 4 new skills)\n   - Hooks: Update hook behaviors count (adding 2 new behaviors)\n\n2. Update SKILLS section:\n   - Add cpp-coding-standards to \"Matched\" table\n   - Add cost-aware-llm-pipeline to \"Matched\" table\n   - Add regex-vs-llm-structured-text to \"Matched\" table\n   - Add springboot-verification to \"Matched\" table\n   - Mark these as DONE in \"ECC Has, We Don't\" section\n\n3. Update Skill Gap Action Summary:\n   - Move cpp-coding-standards from IMPLEMENT to DONE\n   - Move cost-aware-llm-pipeline from IMPLEMENT to DONE\n   - Move regex-vs-llm-structured-text from IMPLEMENT to DONE\n   - Move springboot-verification from IMPLEMENT to DONE\n\n4. Update HOOKS section:\n   - Add PR URL extraction to \"Our Hook Additions\" (if ECC doesn't have it) or \"Matched\"\n   - Add Long-running tmux reminder to appropriate section\n   - Mark these as DONE in Hook Behavior Gaps table\n\n5. Update RULES section:\n   - Note that Python, TypeScript, Go rules have been enriched with ECC content\n   - Update Rule Gap Action Plan status\n\n6. Update Implementation Priority Queue:\n   - Mark Phase 2 items 7-12 as DONE\n   - Move Rule enrichment item 6 from \"Remaining\" to DONE\n\n7. Update \"Last updated\" date at top of file",
        "testStrategy": "1. Verify all counts are mathematically consistent\n2. Verify no items are listed in both DONE and TODO sections\n3. Verify Phase 2 section shows all items complete\n4. Verify summary table matches detailed section counts",
        "priority": "medium",
        "dependencies": [
          1,
          2,
          3,
          4,
          5,
          6,
          7,
          8,
          9,
          10
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 12,
        "title": "Update TEMPLATE_OVERVIEW.md with new counts",
        "description": "Update docs/TEMPLATE_OVERVIEW.md to reflect the new skill count (39 skills) and hook count (17 hooks with 2 new behaviors).",
        "details": "Implementation steps:\n\n1. Update \"By the numbers\" section:\n   - Skills: 35 â†’ 39 skills\n   - Update hooks count if changed\n\n2. Update Architecture Overview section:\n   - Skills count in the tree structure\n   - Any hook-related counts\n\n3. Update Token Budget Awareness table if skill loading description changes\n\n4. Update Component Deep Dive sections:\n   - Add new skills to Skills list (Section 3)\n   - Add new hooks to Hooks list if enumerated\n\n5. Update version number if this constitutes a minor release\n\n6. Update the footer:\n   - \"Template version X.X.X | 13 agents, 39 skills, ...\"",
        "testStrategy": "1. Verify skill count matches actual .claude/skills/ directory count\n2. Verify hook count matches actual .claude/hooks/ directory count\n3. Verify \"By the numbers\" summary is consistent with detailed sections\n4. Verify no outdated counts remain in document",
        "priority": "medium",
        "dependencies": [
          4,
          5,
          6,
          7,
          8,
          9
        ],
        "status": "pending",
        "subtasks": []
      },
      {
        "id": 13,
        "title": "Update CLAUDE.md if slash commands were added",
        "description": "Review CLAUDE.md to verify all new skills are properly referenced and no new slash commands need documentation. Update the slash commands table if any new commands were added as part of Phase 2.",
        "details": "Implementation steps:\n\n1. Read CLAUDE.md and review the Slash Commands table\n\n2. Check if any new skills require associated slash commands:\n   - cpp-coding-standards: No (coding standards are auto-loaded rules pattern, not slash commands)\n   - cost-aware-llm-pipeline: No (skill loaded on-demand, no dedicated command)\n   - regex-vs-llm-structured-text: No (decision framework skill, no dedicated command)\n   - springboot-verification: Consider if /verify-spring command is needed\n\n3. If any new commands are added, update the Slash Commands table\n\n4. Verify skills are listed in appropriate sections if the document has a skills inventory\n\n5. Update any counts in CLAUDE.md that reference skill or hook totals\n\n6. Note: The PRD specifies \"Update CLAUDE.md if any new slash commands are added\" - most Phase 2 items are skills/hooks, not commands, so this may be a no-op",
        "testStrategy": "1. Verify slash command table is complete and accurate\n2. Verify any skill counts in CLAUDE.md match actual counts\n3. Verify no orphaned references to old skill names",
        "priority": "low",
        "dependencies": [
          4,
          5,
          6,
          7
        ],
        "status": "pending",
        "subtasks": []
      }
    ],
    "metadata": {
      "created": "2026-02-18T23:17:33.059Z",
      "updated": "2026-02-18T23:17:33.059Z",
      "description": "Tasks for ecc-gap-p2 context"
    }
  }
}